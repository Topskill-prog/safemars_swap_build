"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7233],{76751:function(n,e,t){t.d(e,{Z:function(){return F}});var r=t(26042),i=t(69396),o=t(99534),s=t(7297),c=t(85893),l=t(67294),u=t(19521),a=t(75943),d=t(44147),x=t(44305);function f(){var n=(0,s.Z)(["\n  width: 100%;\n  height: 20px;\n  clip-path: url(",");\n\n  background: ",";\n\n  & svg {\n    display: block;\n  }\n"]);return f=function(){return n},n}function p(){var n=(0,s.Z)(["\n  ","\n  transform: ",";\n"]);return p=function(){return n},n}function h(){var n=(0,s.Z)(["\n  ","\n  transform: ",";\n"]);return h=function(){return n},n}var m=function(n,e,t){return(0,u.iv)(f(),e,(function(){return n.isDark?(null===t||void 0===t?void 0:t.dark)||(null===t||void 0===t?void 0:t.light)||n.colors.background:(null===t||void 0===t?void 0:t.light)||n.colors.background}))},g=(0,u.ZP)(d.Z).withConfig({componentId:"sc-f0d6319c-0"})(p(),(function(n){var e=n.theme,t=n.clipPath,r=n.clipFill;return m(e,t,r)}),(function(n){return"#bottomConcaveCurve"===n.clipPath?"translate(0, -13px)":"translate(0, 1px)"})),v=(0,u.ZP)(d.Z).withConfig({componentId:"sc-f0d6319c-1"})(h(),(function(n){var e=n.theme,t=n.clipPath,r=n.clipFill;return m(e,t,r)}),(function(n){return"#bottomConvexCurve"===n.clipPath?"translate(0, -13px)":"translate(0, -1px)"})),Z=function(n){var e=n.clipFill;return(0,c.jsx)(v,{clipFill:e,clipPath:"#topConvexCurve",children:(0,c.jsx)("svg",{width:"0",height:"0",children:(0,c.jsx)("defs",{children:(0,c.jsx)("clipPath",{id:"topConvexCurve",clipPathUnits:"objectBoundingBox",children:(0,c.jsx)("path",{d:"M 0,1 L 0,0 L 1,0 L 1,1 C 0.75 0, .25 0, 0 1 Z"})})})})})},j=function(n){var e=n.clipFill;return(0,c.jsx)(v,{clipFill:e,clipPath:"#bottomConvexCurve",children:(0,c.jsx)("svg",{width:"0",height:"0",children:(0,c.jsx)("defs",{children:(0,c.jsx)("clipPath",{id:"bottomConvexCurve",clipPathUnits:"objectBoundingBox",children:(0,c.jsx)("path",{d:"M 0,0 L 0,1 L 1,1 L 1,0 C .75 1, .25 1, 0 0 Z"})})})})})},b=function(n){var e=n.clipFill;return(0,c.jsx)(g,{clipFill:e,clipPath:"#topConcaveCurve",children:(0,c.jsx)("svg",{width:"0",height:"0",children:(0,c.jsx)("defs",{children:(0,c.jsx)("clipPath",{id:"topConcaveCurve",clipPathUnits:"objectBoundingBox",children:(0,c.jsx)("path",{d:"M 0,0 L 0,1 L 1,1 L 1,0 C .75 1, .25 1, 0 0 Z"})})})})})},y=function(n){var e=n.clipFill;return(0,c.jsx)(g,{clipFill:e,clipPath:"#bottomConcaveCurve",children:(0,c.jsx)("svg",{width:"0",height:"0",children:(0,c.jsx)("defs",{children:(0,c.jsx)("clipPath",{id:"bottomConcaveCurve",clipPathUnits:"objectBoundingBox",children:(0,c.jsx)("path",{d:"M 0,1 L 0,0 L 1,0 L 1,1 C .75 0.1, .25 0.1, 0 1 Z"})})})})})};function w(){var n=(0,s.Z)(["\n  background: ",";\n  z-index: ",";\n  position: relative;\n  display: flex;\n  align-items: center;\n  width: 100%;\n"]);return w=function(){return n},n}function C(){var n=(0,s.Z)(["\n  z-index: ",";\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n"]);return C=function(){return n},n}var k=u.ZP.div.withConfig({componentId:"sc-82a6e052-0"})(w(),(function(n){var e=n.theme,t=n.dividerFill;return e.isDark?(null===t||void 0===t?void 0:t.dark)||(null===t||void 0===t?void 0:t.light)||"none":(null===t||void 0===t?void 0:t.light)||(null===t||void 0===t?void 0:t.dark)||"none"}),(function(n){return n.index})),I=u.ZP.div.withConfig({componentId:"sc-82a6e052-1"})(C(),(function(n){return n.index+1})),L=function(n){var e=n.index,t=n.dividerPosition,r=n.dividerComponent,i=n.concave,o=n.clipFill,s=n.dividerFill,l="top"===t&&!i,u="bottom"===t&&!i,a="top"===t&&i,d="bottom"===t&&i;return(0,c.jsxs)(k,{index:e,dividerFill:s,children:[r&&(0,c.jsx)(I,{index:e,children:r}),(0,c.jsxs)(c.Fragment,{children:[a&&(0,c.jsx)(b,{clipFill:o}),d&&(0,c.jsx)(y,{clipFill:o})]}),(0,c.jsxs)(c.Fragment,{children:[l&&(0,c.jsx)(Z,{clipFill:o}),u&&(0,c.jsx)(j,{clipFill:o})]})]})};function S(){var n=(0,s.Z)(["\n  position: relative;\n  flex-direction: column;\n  align-items: center;\n  z-index: ",";\n  padding: ",";\n"]);return S=function(){return n},n}function T(){var n=(0,s.Z)(["\n  min-height: auto;\n  padding-top: 16px;\n  padding-bottom: 16px;\n\n  "," {\n    padding-top: 32px;\n    padding-bottom: 32px;\n  }\n\n  "," {\n    padding-top: 48px;\n    padding-bottom: 48px;\n  }\n"]);return T=function(){return n},n}var P=(0,u.ZP)(a.Z).attrs({className:"page-bg"}).withConfig({componentId:"sc-308e1ef1-0"})(S(),(function(n){return n.index-1}),(function(n){return n.padding})),D=(0,u.ZP)(x.Z).withConfig({componentId:"sc-308e1ef1-1"})(T(),(function(n){return n.theme.mediaQueries.sm}),(function(n){return n.theme.mediaQueries.lg})),F=function(n){var e=n.children,t=n.svgFill,s=n.index,u=void 0===s?1:s,a=n.dividerComponent,x=n.dividerPosition,f=void 0===x?"bottom":x,p=n.hasCurvedDivider,h=void 0===p||p,m=n.concaveDivider,g=void 0!==m&&m,v=n.clipFill,Z=n.dividerFill,j=n.containerProps,b=n.innerProps,y=(0,o.Z)(n,["children","svgFill","index","dividerComponent","dividerPosition","hasCurvedDivider","concaveDivider","clipFill","dividerFill","containerProps","innerProps"]),w=(0,l.useMemo)((function(){return h?"bottom"===f?"48px 0 14px":"top"===f?"14px 0 48px":"48px 0":"48px 0"}),[f,h]);return(0,c.jsxs)(d.Z,(0,i.Z)((0,r.Z)({},j),{children:[h&&"top"===f&&(0,c.jsx)(L,{svgFill:t,index:u,concave:g,dividerPosition:f,dividerComponent:a,clipFill:v,dividerFill:Z}),(0,c.jsx)(P,(0,i.Z)((0,r.Z)({index:u,padding:w},y),{children:(0,c.jsx)(D,(0,i.Z)((0,r.Z)({},b),{children:e}))})),h&&"bottom"===f&&(0,c.jsx)(L,{svgFill:t,index:u,concave:g,dividerPosition:f,dividerComponent:a,clipFill:v,dividerFill:Z})]}))}},13471:function(n,e,t){var r=3600,i=86400,o=2629800,s=31557600;e.Z=function(n){var e=Math.abs(n),t={years:0,months:0,days:0,hours:0,minutes:0,seconds:0};return e>=s&&(t.years=Math.floor(e/s),e-=t.years*s),e>=o&&(t.months=Math.floor(e/o),e-=t.months*o),e>=i&&(t.days=Math.floor(e/i),e-=t.days*i),e>=r&&(t.hours=Math.floor(e/r),e-=t.hours*r),e>=60&&(t.minutes=Math.floor(e/60),e-=60*t.minutes),t.seconds=e,t}},97233:function(n,e,t){t.d(e,{Z:function(){return wi}});var r,i=t(7297),o=t(85893),s=t(67294),c=t(19521),l=t(75943),u=t(69589),a=t(62685),d=t(44147),x=t(75759),f=t(76751),p=t(12410),h=t(63850),m=t(29315),g=t(9473),v=t(2795),Z=t(33533),j=t(63290),b=t(26042),y=t(69396),w=t(70794),C=t(68697),k=function(n){return n.lottery.lotteriesData},I=(0,C.P1)([function(n){return n.lottery.maxNumberTicketsPerBuyOrClaim}],(function(n){return new w.Z(n)})),L=(0,C.P1)([function(n){return n.lottery.currentRound}],(function(n){var e=n.priceTicketInXfn,t=n.discountDivisor,r=n.amountCollectedInXfn;return(0,y.Z)((0,b.Z)({},n),{priceTicketInXfn:new w.Z(e),discountDivisor:new w.Z(t),amountCollectedInXfn:new w.Z(r)})})),S=(0,C.P1)([L,function(n){return n.lottery.isTransitioning},function(n){return n.lottery.currentLotteryId},function(n){return n.lottery.userLotteryData},k,I],(function(n,e,t,r,i,o){return{currentLotteryId:t,maxNumberTicketsPerBuyOrClaim:o,isTransitioning:e,userLotteryData:r,lotteriesData:i,currentRound:n}})),T=function(){return(0,g.v9)((function(n){return n.lottery.currentLotteryId}))},P=function(){return(0,g.v9)((function(n){return n.lottery.userLotteryData}))},D=function(n){var e=(0,s.useMemo)((function(){return function(n){return(0,C.P1)([k],(function(e){return null===e||void 0===e?void 0:e.find((function(e){return e.id===n}))}))}(n)}),[n]);return(0,g.v9)(e)},F=function(){return(0,g.v9)(S)},B=function(n,e){var t=(0,p.$G)().t;return(0,s.useMemo)((function(){return e===x.p3.OPEN?{nextEventTime:n+30,preCountdownText:null,postCountdownText:t("until the draw")}:e===x.p3.CLOSE?{nextEventTime:n+30+180,preCountdownText:t("Winners announced in"),postCountdownText:null}:e===x.p3.CLAIMABLE?{nextEventTime:n+30+300,preCountdownText:t("Tickets on sale in"),postCountdownText:null}:{nextEventTime:null,preCountdownText:null,postCountdownText:null}}),[n,e,t])},E=t(47568),N=t(97582),R=t(82135),M=function(){var n=F(),e=n.currentLotteryId,t=n.isTransitioning,r=n.currentRound.status,i=(0,m.Ge)().account,o=(0,v.TL)(),c=(0,R.Z)(r);(0,s.useEffect)((function(){c!==r&&e&&(c===x.p3.CLOSE&&r===x.p3.CLAIMABLE&&(o((0,j.S5)({currentLotteryId:e})),i&&o((0,j.wV)({account:i,currentLotteryId:e}))),c===x.p3.CLAIMABLE&&r===x.p3.OPEN&&(o((0,j.S5)({currentLotteryId:e})),i&&o((0,j.wV)({account:i,currentLotteryId:e}))))}),[e,r,c,i,o]),(0,s.useEffect)((function(){if(c===x.p3.CLAIMABLE&&r===x.p3.CLAIMABLE&&t){o((0,j.kC)()),o((0,j.S5)({currentLotteryId:e}));var n=setInterval((0,E.Z)((function(){return(0,N.__generator)(this,(function(n){return o((0,j.kC)()),o((0,j.S5)({currentLotteryId:e})),[2]}))})),1e4);return function(){return clearInterval(n)}}return function(){return null}}),[r,c,t,e,o])},z=t(8253),A=t(59123),_=t(18778),W=t(99534),H=t(828),G=t(21812),U=t(13522),O=t(98553),V=t(2593),$=function(){var n=(0,E.Z)((function(n,e,t){var r,i,o=arguments;return(0,N.__generator)(this,(function(s){switch(s.label){case 0:r=o.length>3&&void 0!==o[3]?o[3]:0,s.label=1;case 1:return s.trys.push([1,3,,4]),[4,n.allowance(e,t)];case 2:return i=s.sent(),"number"===typeof r&&r>0||V.O$.isBigNumber(r)&&r.gt(0)?[2,i.lt(r)]:[2,i.lte(0)];case 3:return s.sent(),[2,!0];case 4:return[2]}}))}));return function(e,t,r){return n.apply(this,arguments)}}(),Q=t(21046),Y=t(85937),X=t(62077),q=t(88896),J=t(39665),K=t(95160),nn=t(18029),en=t(87318),tn=t(94186),rn=t(50308),on=t.n(rn),sn=t(76431),cn={approvalState:"idle",confirmState:"idle"},ln=function(n,e){switch(e.type){case"approve_sending":return(0,y.Z)((0,b.Z)({},n),{approvalState:"loading"});case"approve_receipt":return(0,y.Z)((0,b.Z)({},n),{approvalState:"success"});case"approve_error":return(0,y.Z)((0,b.Z)({},n),{approvalState:"fail"});case"confirm_sending":return(0,y.Z)((0,b.Z)({},n),{confirmState:"loading"});case"confirm_receipt":return(0,y.Z)((0,b.Z)({},n),{confirmState:"success"});case"confirm_error":return(0,y.Z)((0,b.Z)({},n),{confirmState:"fail"});default:return n}},un=function(n){var e=n.onApprove,t=n.onConfirm,r=n.onRequiresApproval,i=n.onSuccess,o=void 0===i?on():i,c=n.onApproveSuccess,l=void 0===c?on():c,u=(0,m.Ge)().account,a=(0,s.useReducer)(ln,cn),d=a[0],x=a[1],f=(0,s.useRef)(r),p=(0,sn.Z)().fetchWithCatchTxError,h=(0,s.useCallback)((0,E.Z)((function(){var n;return(0,N.__generator)(this,(function(t){switch(t.label){case 0:return[4,p((function(){return x({type:"approve_sending"}),e()}))];case 1:return(null===(n=t.sent())||void 0===n?void 0:n.status)?(x({type:"approve_receipt"}),l({state:d,receipt:n})):x({type:"approve_error"}),[2]}}))})),[e,l,d,p]),g=(0,s.useCallback)((0,E.Z)((function(){var n,e,r=arguments;return(0,N.__generator)(this,(function(i){switch(i.label){case 0:return n=r.length>0&&void 0!==r[0]?r[0]:{},[4,p((function(){return x({type:"confirm_sending"}),t(n)}))];case 1:return(null===(e=i.sent())||void 0===e?void 0:e.status)?(x({type:"confirm_receipt"}),o({state:d,receipt:e})):x({type:"confirm_error"}),[2]}}))})),[t,x,o,d,p]);return(0,s.useEffect)((function(){u&&f.current&&f.current().then((function(n){n||x({type:"approve_receipt"})}))}),[u,f,x]),{isApproving:"loading"===d.approvalState,isApproved:"success"===d.approvalState,isConfirming:"loading"===d.confirmState,isConfirmed:"success"===d.confirmState,hasApproveFailed:"fail"===d.approvalState,hasConfirmFailed:"fail"===d.confirmState,handleApprove:h,handleConfirm:g}},an=t(36963),dn=t(85900),xn=t(28475),fn=t(72409),pn=t(85488),hn=t(37303),mn=t(57049),gn=t(63771);function vn(){var n=(0,i.Z)(["\n  align-items: center;\n  display: grid;\n  grid-template-columns: 1fr;\n  justify-content: center;\n\n  "," {\n    grid-template-columns: 1fr 24px 1fr;\n  }\n"]);return vn=function(){return n},n}function Zn(){var n=(0,i.Z)(["\n  width: 100%;\n\n  "," {\n    min-width: 160px;\n  }\n"]);return Zn=function(){return n},n}function jn(){var n=(0,i.Z)(["\n  display: none;\n\n  "," {\n    display: block;\n  }\n"]);return jn=function(){return n},n}function bn(){var n=(0,i.Z)(["\n  display: block;\n\n  "," {\n    display: none;\n  }\n"]);return bn=function(){return n},n}!function(n){n.ROW="row",n.SEQUENTIAL="sequential"}(r||(r={}));var yn=c.ZP.div.withConfig({componentId:"sc-7e1c0919-0"})(vn(),(function(n){return n.theme.mediaQueries.md})),wn=(0,c.ZP)(O.Z).withConfig({componentId:"sc-7e1c0919-1"})(Zn(),(function(n){return n.theme.mediaQueries.md})),Cn={width:"24px",color:"textDisabled"},kn=(0,c.ZP)(hn.Z).attrs(Cn).withConfig({componentId:"sc-7e1c0919-2"})(jn(),(function(n){return n.theme.mediaQueries.md})),In=(0,c.ZP)(mn.Z).attrs(Cn).withConfig({componentId:"sc-7e1c0919-3"})(bn(),(function(n){return n.theme.mediaQueries.md})),Ln=(0,o.jsx)(gn.Z,{spin:!0,color:"currentColor"}),Sn=function(n){var e=n.isApproveDisabled,t=n.isApproving,i=n.isConfirming,s=n.isConfirmDisabled,c=n.onApprove,u=n.onConfirm,a=n.buttonArrangement,x=void 0===a?r.ROW:a,f=n.confirmLabel,h=n.confirmId,m=(0,p.$G)().t,g=null!==f&&void 0!==f?f:m("Confirm");return x===r.ROW?(0,o.jsxs)(yn,{children:[(0,o.jsx)(d.Z,{children:(0,o.jsx)(wn,{disabled:e,onClick:c,endIcon:t?Ln:void 0,isLoading:t,children:m(t?"Enabling":"Enable")})}),(0,o.jsxs)(l.Z,{justifyContent:"center",children:[(0,o.jsx)(kn,{}),(0,o.jsx)(In,{})]}),(0,o.jsx)(d.Z,{children:(0,o.jsx)(wn,{id:h,onClick:u,disabled:s,isLoading:i,endIcon:i?Ln:void 0,children:i?m("Confirming"):g})})]}):(0,o.jsx)(o.Fragment,{children:e?(0,o.jsx)(d.Z,{children:(0,o.jsx)(wn,{id:h,onClick:u,disabled:s,isLoading:i,endIcon:i?Ln:void 0,children:i?m("Confirming"):g})}):(0,o.jsx)(d.Z,{children:(0,o.jsx)(wn,{onClick:c,endIcon:t?Ln:void 0,isLoading:t,children:m(t?"Enabling":"Enable")})})})};function Tn(){var n=(0,i.Z)(["\n  flex-grow: 1;\n"]);return Tn=function(){return n},n}var Pn=(0,c.ZP)(O.Z).withConfig({componentId:"sc-d45d700e-0"})(Tn()),Dn=function(n){var e=n.children,t=n.onClick,r=n.disabled,i=void 0!==r&&r;return(0,o.jsx)(Pn,{disabled:i,scale:"xs",mx:"2px",p:"4px 16px",variant:"tertiary",onClick:t,children:e})},Fn=t(87844),Bn=t(36305);function En(){var n=(0,i.Z)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 36px;\n  box-sizing: border-box;\n  border: 1px solid #d7caec;\n  background-color: #eeeaf4;\n  border-radius: 6px;\n  margin-bottom: 8px;\n  ","\n  ","\n"]);return En=function(){return n},n}function Nn(){var n=(0,i.Z)(["\n  color: ",";\n  border: none;\n  height: 32px;\n  padding: 0 12px;\n  font-size: 16px;\n  flex: 1;\n  width: 16px;\n  text-align: center;\n  min-width: 0;\n  background-color: transparent;\n  caret-color: #7a6faa;\n\n  &::placeholder {\n    text-align: center;\n  }\n\n  &:placeholder-shown {\n    text-align: left;\n  }\n\n  &:focus {\n    outline: none;\n  }\n\n  &::-webkit-outer-spin-button,\n  &::-webkit-inner-spin-button {\n    /* display: none; <- Crashes Chrome on hover */\n    -webkit-appearance: none;\n    margin: 0; /* <-- Apparently some margin are still there even though it's hidden */\n  }\n\n  -moz-appearance: textfield; /* Firefox */\n"]);return Nn=function(){return n},n}var Rn=c.ZP.div.withConfig({componentId:"sc-5b31ae1f-0"})(En(),(function(n){return n.isDuplicate&&"\n    border: 1px solid #FFB237;\n    box-shadow: 0px 0px 0px 2px #FFB237;\n  "}),(function(n){return n.focused&&"\n    border: 1px solid #7645D9;\n    box-shadow: 0px 0px 0px 2px #E4DAF7;\n  "})),Mn=c.ZP.input.withConfig({componentId:"sc-5b31ae1f-1"})(Nn(),(function(n){return n.theme.colors.primaryDark})),zn=function(n){var e,t=n.ticket,r=n.duplicateWith,i=n.updateTicket,c=n.disabled,u=(0,s.useState)(!1),a=u[0],d=u[1],x=(0,s.useRef)(null),f=(0,s.useRef)(null),h=(0,s.useRef)(null),m=(0,s.useRef)(null),g=(0,s.useRef)(null),v=(0,s.useRef)(null),Z=(0,s.useRef)(null),j=(0,p.$G)().t,b=[f,h,m,g,v,Z],y=function(){x.current&&x.current.scrollIntoView({block:"center",behavior:"smooth"})},w=function(n){n.preventDefault();var e=n.clipboardData.getData("Text");if(e.length<=6&&/^\d+$/.test(e)){var r=Array(6-e.length).fill("");i(t.id,(0,Bn.Z)(e.split("")).concat((0,Bn.Z)(r)))}},C=function(){y(),d(!0)},k=function(){d(!1)},I=function(n,e){var r=parseInt(n.key,10);if(["e","E",".",",","-","Unidentified"].includes(n.key))n.preventDefault();else{if(r>=0&&r<=9){n.preventDefault();var o=(0,Bn.Z)(t.numbers);o[e]="".concat(r),i(t.id,o);var s=e+1,c=b[s];6!==s&&c.current&&c.current.focus()}if("Backspace"===n.key)if(n.preventDefault(),t.numbers[e]){var l=(0,Bn.Z)(t.numbers);l[e]="",i(t.id,l)}else{var u=e-1,a=b[u];if(-1!==u&&a.current){a.current.focus();var d=(0,Bn.Z)(t.numbers);d[u]="",i(t.id,d)}}if("Delete"===n.key)if(n.preventDefault(),t.numbers[e]){var x=(0,Bn.Z)(t.numbers);x[e]="",i(t.id,x)}else{var f=e+1,p=b[f];if(6!==f&&p.current){p.current.focus();var h=(0,Bn.Z)(t.numbers);h[f]="",i(t.id,h)}}if("ArrowLeft"===n.key){n.preventDefault();var m=e-1,g=b[m];-1!==m&&g.current&&g.current.focus()}if("ArrowRight"===n.key){n.preventDefault();var v=e+1,Z=b[v];6!==v&&Z.current&&Z.current.focus()}}};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(l.Z,{justifyContent:"space-between",children:[(0,o.jsx)(X.Z,{fontSize:"12px",color:"textSubtle",children:(e=t.id,e<10?"#00".concat(e):e<100?"#0".concat(e):"#".concat(e))}),(0,o.jsx)(X.Z,{fontSize:"12px",color:"warning",children:0!==r.length&&j("Duplicate")})]}),(0,o.jsxs)(Rn,{ref:x,onClick:y,focused:a,isDuplicate:0!==r.length,children:[(0,o.jsx)(Mn,{ref:f,type:"number",value:t.numbers[0],onKeyDown:function(n){return I(n,0)},placeholder:"_",onChange:function(n){return n.preventDefault()},disabled:c,onFocus:C,onBlur:k,onPaste:w,inputMode:"numeric"}),(0,o.jsx)(Mn,{ref:h,type:"number",value:t.numbers[1],onKeyDown:function(n){return I(n,1)},placeholder:"_",onChange:function(n){return n.preventDefault()},disabled:c,onFocus:C,onBlur:k,onPaste:w,inputMode:"numeric"}),(0,o.jsx)(Mn,{ref:m,type:"number",value:t.numbers[2],onKeyDown:function(n){return I(n,2)},placeholder:"_",onChange:function(n){return n.preventDefault()},disabled:c,onFocus:C,onBlur:k,onPaste:w,inputMode:"numeric"}),(0,o.jsx)(Mn,{ref:g,type:"number",value:t.numbers[3],onKeyDown:function(n){return I(n,3)},placeholder:"_",onChange:function(n){return n.preventDefault()},disabled:c,onFocus:C,onBlur:k,onPaste:w,inputMode:"numeric"}),(0,o.jsx)(Mn,{ref:v,type:"number",value:t.numbers[4],onKeyDown:function(n){return I(n,4)},placeholder:"_",onChange:function(n){return n.preventDefault()},disabled:c,onFocus:C,onBlur:k,onPaste:w,inputMode:"numeric"}),(0,o.jsx)(Mn,{ref:Z,type:"number",value:t.numbers[5],onKeyDown:function(n){return I(n,5)},placeholder:"_",onChange:function(n){return n.preventDefault()},disabled:c,onFocus:C,onBlur:k,onPaste:w,inputMode:"numeric"})]})]})};function An(){var n=(0,i.Z)(["\n  max-height: 552px;\n  & div:nth-child(2) {\n    padding: 0;\n  }\n\n  "," {\n    width: 280px;\n  }\n"]);return An=function(){return n},n}function _n(){var n=(0,i.Z)(["\n  height: 310px;\n  overflow-y: scroll;\n  border-bottom: ",";\n  padding: 24px;\n"]);return _n=function(){return n},n}var Wn=(0,c.ZP)(Y.Z).withConfig({componentId:"sc-c7bfb74e-0"})(An(),(function(n){return n.theme.mediaQueries.md})),Hn=c.ZP.div.withConfig({componentId:"sc-c7bfb74e-1"})(_n(),(function(n){var e=n.theme;return"1px solid ".concat(e.colors.cardBorder)})),Gn=function(n){var e=n.totalCost,t=n.updateTicket,r=n.randomize,i=n.tickets,c=n.allComplete,u=n.onConfirm,a=n.isConfirming,d=n.onDismiss,x=(0,h.ZP)().theme,f=(0,p.$G)().t,m=(0,s.useCallback)((function(){return u()}),[u]);return(0,o.jsxs)(Wn,{title:f("Edit numbers"),onDismiss:d,headerBackground:x.colors.gradients.cardHeader,onBack:d,children:[(0,o.jsxs)(Hn,{children:[(0,o.jsxs)(l.Z,{justifyContent:"space-between",mb:"16px",children:[(0,o.jsxs)(X.Z,{color:"textSubtle",children:[f("Total cost"),":"]}),(0,o.jsxs)(X.Z,{children:["~",e," DEP"]})]}),(0,o.jsx)(X.Z,{fontSize:"12px",color:"textSubtle",mb:"16px",children:f("Numbers are randomized, with no duplicates among your tickets. Tap a number to edit it. Available digits: 0-9")}),(0,o.jsx)(O.Z,{disabled:a,mb:"16px",variant:"secondary",width:"100%",height:"32px",onClick:r,children:f("Randomize")}),i.map((function(n){return(0,o.jsx)(zn,{ticket:n,duplicateWith:n.duplicateWith,updateTicket:t,disabled:a},n.id)}))]}),(0,o.jsxs)(l.Z,{flexDirection:"column",justifyContent:"center",m:"24px",children:[(0,o.jsx)(O.Z,{id:"lotteryBuyEdited",disabled:!c||a,endIcon:a?(0,o.jsx)(gn.Z,{spin:!0,color:"currentColor"}):void 0,onClick:m,children:f(a?"Confirming":"Confirm and buy")}),(0,o.jsxs)(O.Z,{mt:"8px",variant:a?"secondary":"text",disabled:a,onClick:d,children:[(0,o.jsx)(Fn.Z,{color:a?"disabled":"primary",height:"24px",width:"24px"})," ",f("Go back")]})]})]})},Un=function(n){var e=n.split("");return e.splice(0,1),e.reverse(),e.join("")},On=function(n,e){var t=1e3*parseInt(e,10);return new Date(t).toLocaleDateString(n,Qn)},Vn={year:"numeric",month:"short",day:"numeric"},$n={hour:"numeric",minute:"numeric"},Qn=(0,b.Z)({},Vn,$n),Yn=function(n){var e=n.priceTicketInXfn,t=n.discountDivisor,r=n.amountCollectedInXfn,i=new w.Z(t),o=new w.Z(e),s=new w.Z(r);return{isLoading:n.isLoading,lotteryId:n.lotteryId,userTickets:n.userTickets,status:n.status,startTime:n.startTime,endTime:n.endTime,priceTicketInXfn:o,discountDivisor:i,treasuryFee:n.treasuryFee,firstTicketId:n.firstTicketId,lastTicketId:n.lastTicketId,amountCollectedInXfn:s,finalNumber:n.finalNumber,xfnPerBracket:n.xfnPerBracket,countWinnersPerBracket:n.countWinnersPerBracket,rewardsBreakdown:n.rewardsBreakdown}},Xn=t(83608),qn=t.n(Xn),Jn=function(n,e){for(var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e6,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1999999,i=(null===e||void 0===e?void 0:e.length)>0?e.map((function(n){return parseInt(null===n||void 0===n?void 0:n.number)})):[],o=(0,Bn.Z)(i),s=0;s<n;s++){for(var c=qn()(t,r);o.includes(c);)c=qn()(t,r);o.push(c)}var l=(null===e||void 0===e?void 0:e.length)>0?o.filter((function(n){return!i.includes(n)})):o;return l},Kn=function(n){var e=n.amount,t=n.userCurrentTickets,r=Jn(e,t).map((function(n){return Un(n.toString()).split("")}));return{tickets:Array.from({length:e},(function(n,e){return e+1})).map((function(n){return{id:n,numbers:r[n-1],duplicateWith:[],isComplete:!0}})),allComplete:!0}},ne=function(n,e){switch(e.type){case"updateTicket":var t=(0,Bn.Z)(n.tickets),r=e.payload,i=r.ticketId,o=r.newNumbers,s=n.tickets.filter((function(n){return n.id!==i&&n.isComplete&&n.numbers.join("")===o.join("")}));t[i-1].duplicateWith.forEach((function(n){if(!s.map((function(n){return n.id})).includes(n)){var e=(0,Bn.Z)(t[n-1].duplicateWith),r=e.findIndex((function(n){return n===i}));e.splice(r,1),t[n-1]=(0,y.Z)((0,b.Z)({},t[n-1]),{duplicateWith:e})}})),0!==s.length&&s.forEach((function(n){t[n.id-1]=(0,y.Z)((0,b.Z)({},n),{duplicateWith:(0,Bn.Z)(n.duplicateWith).concat([i])})}));var c={id:i,numbers:o,duplicateWith:s.map((function(n){return n.id})),isComplete:6===o.join("").length};t[i-1]=c;var l=t.every((function(n){return n.isComplete}));return{tickets:t,allComplete:l};case"reset":return Kn({amount:e.payload.amount,userCurrentTickets:e.payload.userCurrentTickets});default:throw new Error}},ee=t(10386);function te(){var n=(0,i.Z)(["\n  "," {\n    width: 280px;\n  }\n"]);return te=function(){return n},n}function re(){var n=(0,i.Z)(["\n  justify-content: space-between;\n  margin-top: 8px;\n  margin-bottom: 24px;\n  display: ",";\n"]);return re=function(){return n},n}var ie,oe=(0,c.ZP)(Y.Z).withConfig({componentId:"sc-6d994210-0"})(te(),(function(n){return n.theme.mediaQueries.md})),se=(0,c.ZP)(l.Z).withConfig({componentId:"sc-6d994210-1"})(re(),(function(n){return n.isVisible?"flex":"none"}));!function(n){n.BUY="Buy",n.EDIT="Edit"}(ie||(ie={}));var ce=function(n){var e=n.onDismiss,t=(0,m.Ge)().account,i=(0,p.$G)().t,c=(0,h.ZP)().theme,u=F(),d=u.maxNumberTicketsPerBuyOrClaim,f=u.currentLotteryId,g=u.currentRound,Z=g.priceTicketInXfn,b=g.discountDivisor,y=g.userTickets.tickets,C=(0,dn.d)().callWithGasPrice,k=(0,s.useState)(""),I=k[0],L=k[1],S=(0,s.useState)(""),T=S[0],P=S[1],D=(0,s.useState)(""),B=D[0],R=D[1],M=(0,s.useState)(""),_=M[0],W=M[1],G=(0,s.useState)(ie.BUY),U=G[0],V=G[1],Y=(0,s.useState)(en.HW),rn=Y[0],on=Y[1],sn=(0,s.useState)(!1),cn=sn[0],ln=sn[1],hn=(0,s.useState)(!1),mn=hn[0],gn=hn[1],vn=(0,an.X0)(),Zn=(0,an.kL)(),jn=Zn.reader,bn=Zn.signer,yn=(0,xn.Z)().toastSuccess,wn=(0,tn.ZP)(ee.RS.xfn.address),Cn=wn.balance,kn=wn.fetchStatus,In=Cn.toJSON(),Ln=(0,s.useMemo)((function(){return new w.Z(In)}),[In]),Tn=(0,z.Iu)(),Pn=(0,v.TL)(),Fn=kn===x.iF.Fetched,En=(0,A.NJ)(Cn,9,3),Nn=function(){return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(X.Z,{mb:"16px",children:i("Buying multiple tickets in a single transaction gives a discount. The discount increases in a linear way, up to the maximum of 100 tickets:")}),(0,o.jsx)(X.Z,{children:i("2 tickets: 0.05%")}),(0,o.jsx)(X.Z,{children:i("50 tickets: 2.45%")}),(0,o.jsx)(X.Z,{children:i("100 tickets: 4.95%")})]})},Rn=(0,q.Z)((0,o.jsx)(Nn,{}),{placement:"bottom-end",tooltipOffset:[20,10]}),Mn=Rn.targetRef,zn=Rn.tooltip,An=Rn.tooltipVisible,_n=(0,s.useCallback)((function(n){return n.gt(d)?d:n}),[d]),Wn=(0,s.useCallback)((function(n){return Z.times(n).times(b.plus(1).minus(n)).div(b)}),[b,Z]),Hn=(0,s.useCallback)((function(n){var e=Wn(n),t=Z.times(n).minus(e).div(Z);return{overallTicketBuy:n.plus(t),ticketsBoughtWithDiscount:t}}),[Wn,Z]),Un=(0,s.useCallback)((function(n){var e=_n(n);Wn(e).gt(Cn)?gn(!0):e.eq(d)?ln(!0):(gn(!1),ln(!1))}),[_n,Wn,d,Cn]);(0,s.useEffect)((function(){!function(){var n,e=Ln.div(Z),t=_n(e);if(t.lt(d)){var r=Hn(t).overallTicketBuy,i=Hn(r).ticketsBoughtWithDiscount;n=t.plus(i)}else n=t;Fn&&n.lt(1)?gn(!0):gn(!1),on(n)}()}),[d,Z,Ln,_n,Wn,Hn,Fn]),(0,s.useEffect)((function(){var n=new w.Z(I),e=Wn(n),t=Z.times(n),r=t.minus(e);W(t.gt(0)?(0,A.NJ)(t,9):"0"),R(e.gt(0)?(0,A.NJ)(e,9):"0"),P(r.gt(0)?(0,A.NJ)(r,9):"0")}),[I,Z,b,Wn]);var On=function(n){var e=rn.gt(0)?rn.div(new w.Z(100)).times(new w.Z(n)):en.HW;return Math.floor(e.toNumber())},Vn=On(10),$n=On(25),Qn=On(50),Yn=On(100),Xn=function(n){L(n.toFixed()),gn(!1),ln(!1)},qn=(0,H.Z)(function(n,e){var t=(0,s.useReducer)(ne,{amount:n,userCurrentTickets:e},Kn),r=t[0],i=t[1];return(0,s.useEffect)((function(){i({type:"reset",payload:{amount:n,userCurrentTickets:e}})}),[n,e]),[function(n,e){i({type:"updateTicket",payload:{ticketId:n,newNumbers:e}})},function(){i({type:"reset",payload:{amount:n,userCurrentTickets:e}})},r.tickets,r.allComplete,function(){return r.tickets.map((function(n){var e=(0,Bn.Z)(n.numbers).map((function(n){return parseInt(n,10)})).reverse();return e.unshift(1),parseInt(e.join(""),10)}))}]}(parseInt(I,10),y),5),Jn=qn[0],te=qn[1],re=qn[2],ce=qn[3],le=qn[4],ue=un({onRequiresApproval:(0,E.Z)((function(){return(0,N.__generator)(this,(function(n){return[2,$(jn,t,vn.address)]}))})),onApprove:function(){return C(bn,"approve",[vn.address,Q.Bz])},onApproveSuccess:function(){var n=(0,E.Z)((function(n){var e;return(0,N.__generator)(this,(function(t){return e=n.receipt,yn(i("Contract enabled - you can now purchase tickets"),(0,o.jsx)(pn.YO,{txHash:e.transactionHash})),[2]}))}));return function(e){return n.apply(this,arguments)}}(),onConfirm:function(){var n=le();return C(vn,"buyTickets",[f,n])},onSuccess:function(){var n=(0,E.Z)((function(n){var r;return(0,N.__generator)(this,(function(s){return r=n.receipt,null===e||void 0===e||e(),Pn((0,j.w5)({account:t,currentLotteryId:f})),yn(i("Lottery tickets purchased!"),(0,o.jsx)(pn.YO,{txHash:r.transactionHash})),[2]}))}));return function(e){return n.apply(this,arguments)}}()}),ae=ue.isApproving,de=ue.isApproved,xe=ue.isConfirmed,fe=ue.isConfirming,pe=ue.handleApprove,he=ue.handleConfirm,me=!de||xe||mn||!I||new w.Z(I).lte(0)||le().length!==parseInt(I,10);return U===ie.EDIT?(0,o.jsx)(Gn,{totalCost:B,updateTicket:Jn,randomize:te,tickets:re,allComplete:ce,onConfirm:he,isConfirming:fe,onDismiss:function(){return V(ie.BUY)}}):(0,o.jsxs)(oe,{title:i("Buy Tickets"),onDismiss:e,headerBackground:c.colors.gradients.cardHeader,children:[An&&zn,(0,o.jsxs)(l.Z,{alignItems:"center",justifyContent:"space-between",mb:"8px",children:[(0,o.jsxs)(X.Z,{color:"textSubtle",children:[i("Buy"),":"]}),(0,o.jsxs)(l.Z,{alignItems:"center",minWidth:"70px",children:[(0,o.jsx)(X.Z,{mr:"4px",bold:!0,children:i("Tickets")}),(0,o.jsx)("img",{src:"/images/lottery/xfortune_small_ticket.png",alt:"",width:"48px",height:"24px"})]})]}),(0,o.jsx)(J.Z,{isWarning:t&&(mn||cn),placeholder:"0",value:I,onUserInput:function(n){var e=parseInt(n,10),t=new w.Z(e),r=_n(t);Un(t),L(e?r.toString():"")},currencyValue:Tn.gt(0)&&"~".concat(I?(0,A.NJ)(Z.times(new w.Z(I)),9):"0.00"," SOMI")}),(0,o.jsx)(l.Z,{alignItems:"center",justifyContent:"flex-end",mt:"4px",mb:"12px",children:(0,o.jsxs)(l.Z,{justifyContent:"flex-end",flexDirection:"column",children:[t&&(mn||cn)&&(0,o.jsx)(X.Z,{fontSize:"12px",color:"failure",children:mn?i("Insufficient DEP balance"):i("The maximum number of tickets you can buy in one transaction is %maxTickets%",{maxTickets:d.toString()})}),t&&(0,o.jsxs)(l.Z,{justifyContent:"flex-end",children:[(0,o.jsxs)(X.Z,{fontSize:"12px",color:"textSubtle",mr:"4px",children:["SOMI ",i("Balance"),":"]}),Fn?(0,o.jsx)(X.Z,{fontSize:"12px",color:"textSubtle",children:En}):(0,o.jsx)(a.Z,{width:50,height:12})]})]})}),t&&!Fn?(0,o.jsx)(a.Z,{width:"100%",height:20,mt:"8px",mb:"24px"}):(0,o.jsxs)(se,{isVisible:t&&Fn&&Yn>=1,children:[Vn>=1&&(0,o.jsx)(Dn,{onClick:function(){return Xn(Vn)},children:Fn?Vn:""}),$n>=1&&(0,o.jsx)(Dn,{onClick:function(){return Xn($n)},children:Fn?$n:""}),Qn>=1&&(0,o.jsx)(Dn,{onClick:function(){return Xn(Qn)},children:Fn?Qn:""}),Yn>=1&&(0,o.jsx)(Dn,{onClick:function(){return Xn(Yn)},children:(0,o.jsx)(X.Z,{small:!0,color:"currentColor",textTransform:"uppercase",children:i("Max")})})]}),(0,o.jsxs)(l.Z,{flexDirection:"column",children:[(0,o.jsxs)(l.Z,{mb:"8px",justifyContent:"space-between",children:[(0,o.jsxs)(X.Z,{color:"textSubtle",fontSize:"14px",children:[i("Cost")," (DEP)"]}),(0,o.jsxs)(X.Z,{color:"textSubtle",fontSize:"14px",children:[Z&&(0,A.NJ)(Z.times(I||0),9)," DEP"]})]}),(0,o.jsxs)(l.Z,{mb:"8px",justifyContent:"space-between",children:[(0,o.jsxs)(l.Z,{children:[(0,o.jsxs)(X.Z,{display:"inline",bold:!0,fontSize:"14px",mr:"4px",children:[T&&B?function(){var n=new w.Z(T).div(new w.Z(_)).times(100);return n.isNaN()||n.eq(0)?0:n.toNumber().toFixed(2)}():0,"%"]}),(0,o.jsx)(X.Z,{display:"inline",color:"textSubtle",fontSize:"14px",children:i("Bulk discount")}),(0,o.jsx)(l.Z,{alignItems:"center",justifyContent:"center",ref:Mn,children:(0,o.jsx)(K.Z,{ml:"4px",width:"14px",height:"14px",color:"textSubtle"})})]}),(0,o.jsxs)(X.Z,{fontSize:"14px",color:"textSubtle",children:["~",T," DEP"]})]}),(0,o.jsxs)(l.Z,{borderTop:"1px solid ".concat(c.colors.cardBorder),pt:"8px",mb:"24px",justifyContent:"space-between",children:[(0,o.jsx)(X.Z,{color:"textSubtle",fontSize:"16px",children:i("You pay")}),(0,o.jsxs)(X.Z,{fontSize:"16px",bold:!0,children:["~",B," DEP"]})]}),t?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(Sn,{isApproveDisabled:de,isApproving:ae,isConfirmDisabled:me,isConfirming:fe,onApprove:pe,onConfirm:he,buttonArrangement:r.SEQUENTIAL,confirmLabel:i("Buy Instantly"),confirmId:"lotteryBuyInstant"}),de&&(0,o.jsx)(O.Z,{variant:"secondary",mt:"8px",endIcon:(0,o.jsx)(nn.Z,{ml:"2px",color:me||fe?"disabled":"primary",height:"24px",width:"24px"}),disabled:me||fe,onClick:function(){V(ie.EDIT)},children:i("View/Edit Numbers")})]}):(0,o.jsx)(fn.Z,{}),(0,o.jsx)(X.Z,{mt:"24px",fontSize:"12px",color:"textSubtle",children:i('"Buy Instantly" chooses random numbers, with no duplicates among your tickets. Prices are set before each round starts, equal to $5 at that time. Purchases are final.')})]})]})},le=function(n){var e=n.disabled,t=(0,W.Z)(n,["disabled"]),r=(0,p.$G)().t,i=(0,H.Z)((0,G.Z)((0,o.jsx)(ce,{})),1)[0],s=F().currentRound.status;return(0,o.jsx)(O.Z,(0,y.Z)((0,b.Z)({},t),{disabled:e,onClick:i,children:s===x.p3.OPEN?r("Buy Tickets"):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(U.Z,{mr:"4px",color:"textDisabled"})," ",r("Not Available")]})}))};function ue(){var n=(0,i.Z)(["\n    .clock {\n        position: relative;\n    }\n    \n    .clock::after {\n        content: '';\n        background-image: url('/images/safemars.png');\n        background-size: contain;\n        background-repeat: no-repeat;\n        width: 11%;\n        height: 11%;\n        position: absolute;\n        left: 48%;\n        top: 45%;\n        border-radius: 50%;\n        filter: drop-shadow(0px 0px 6px #000);\n    }\n    \n    .first-hand {\n        background-image: url('/images/lottery/clock_key_head.png?v=5');\n        background-size: contain;\n        background-repeat: no-repeat;\n        width: 11%;\n        height: 100%;\n        position: absolute;\n        left: 45%;\n        top: 50%;\n        transform-origin: top center;\n    }\n    \n    .second-hand {\n        background-image: url('/images/lottery/clock_key_body.png?v=5');\n        background-size: contain;\n        background-repeat: no-repeat;\n        width: 11%;\n        height: 100%;\n        position: absolute;\n        left: 45%;\n        top: 50%;\n        transform-origin: top center;\n    }\n"]);return ue=function(){return n},n}var ae=c.ZP.div.withConfig({componentId:"sc-1dac8684-0"})(ue()),de=function(n){var e=n.nextEventTime,t=(0,s.useState)(0),r=t[0],i=t[1];(0,s.useEffect)((function(){var n;if("number"===typeof e){var t=function(){var t=Math.floor(Date.now()/1e3),r=e-t;r>0?i(r/3600):clearInterval(n)};t(),n=setInterval((function(){t()}),1e3)}return function(){return clearInterval(n)}}),[e]);var c=15*-r,l=c,u=c+180;return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(ae,{children:(0,o.jsx)("div",{className:"play-details",children:(0,o.jsx)("div",{className:"analong-clock-container",children:(0,o.jsxs)("div",{className:"clock",children:[(0,o.jsx)("img",{src:"/images/lottery/clock_background.png?v=5",alt:""}),(0,o.jsx)("div",{className:"first-hand",style:{transform:"rotate("+l+"deg)"}}),(0,o.jsx)("div",{className:"second-hand",style:{transform:"rotate("+u+"deg)"}})]})})})})})};function xe(){var n=(0,i.Z)(["\n  from {\n    transform: translate(0,  0px);\n  }\n  50% {\n    transform: translate(10px, 10px);\n  }\n  to {\n    transform: translate(0, -0px);\n  }  \n"]);return xe=function(){return n},n}function fe(){var n=(0,i.Z)(["\n  from {\n    transform: translate(0,  0px);\n  }\n  50% {\n    transform: translate(-10px, 10px);\n  }\n  to {\n    transform: translate(0, -0px);\n  }  \n"]);return fe=function(){return n},n}function pe(){var n=(0,i.Z)(["\n  from {\n    transform: translate(0,  0px);\n  }\n  50% {\n    transform: translate(-10px, 15px);\n  }\n  to {\n    transform: translate(0, -0px);\n  }  \n"]);return pe=function(){return n},n}function he(){var n=(0,i.Z)(["\n  from {\n    transform: translate(0,  0px);\n  }\n  50% {\n    transform: translate(10px, 15px);\n  }\n  to {\n    transform: translate(0, -0px);\n  }  \n"]);return he=function(){return n},n}function me(){var n=(0,i.Z)(["\n  from {\n    transform: rotate(0deg);\n  }\n  50% {\n    transform: rotate(6deg);\n  }\n  to {\n    transform: rotate(0deg);\n  }  \n"]);return me=function(){return n},n}function ge(){var n=(0,i.Z)(["\n  animation: "," 3s ease-in-out infinite;\n"]);return ge=function(){return n},n}function ve(){var n=(0,i.Z)(["\n  background: ",";\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n"]);return ve=function(){return n},n}function Ze(){var n=(0,i.Z)(["\n  background: ",";\n  width: 200px;\n  "," {\n    width: 240px;\n  }\n"]);return Ze=function(){return n},n}function je(){var n=(0,i.Z)(["\n  z-index: 1;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%) rotate(-4deg);\n"]);return je=function(){return n},n}function be(){var n=(0,i.Z)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  transform: rotate(-4deg);\n"]);return be=function(){return n},n}function ye(){var n=(0,i.Z)(["\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  background: url(/images/decorations/bg-star.svg);\n  background-repeat: no-repeat;\n  background-position: center 0;\n"]);return ye=function(){return n},n}function we(){var n=(0,i.Z)(["\n  position: absolute;\n  width: 100%;\n  height: 100%;\n\n  & img {\n    position: absolute;\n  }\n\n  & :nth-child(1) {\n    animation: "," 3s ease-in-out infinite;\n    animation-delay: 0.25s;\n  }\n  & :nth-child(2) {\n    animation: "," 3.5s ease-in-out infinite;\n    animation-delay: 0.5s;\n  }\n  & :nth-child(3) {\n    animation: "," 4s ease-in-out infinite;\n    animation-delay: 0.75s;\n  }\n  & :nth-child(4) {\n    animation: "," 6s ease-in-out infinite;\n    animation-delay: 0.2s;\n  }\n  & :nth-child(5) {\n    animation: "," 6s ease-in-out infinite;\n  }\n\n  "," {\n    & :nth-child(1) {\n      left: 3%;\n      top: 42%;\n    }\n    & :nth-child(2) {\n      left: 9%;\n      top: 23%;\n    }\n    & :nth-child(3) {\n      right: 2%;\n      top: 24%;\n    }\n    & :nth-child(4) {\n      left: 8%;\n      top: 67%;\n    }\n    & :nth-child(5) {\n      right: 8%;\n      top: 67%;\n    }\n  }\n\n  "," {\n    & :nth-child(1) {\n      left: 10%;\n      top: 42%;\n    }\n    & :nth-child(2) {\n      left: 17%;\n      top: 23%;\n    }\n    & :nth-child(3) {\n      right: 10%;\n      top: 24%;\n    }\n    & :nth-child(4) {\n      left: 17%;\n      top: 67%;\n    }\n    & :nth-child(5) {\n      right: 17%;\n      top: 67%;\n    }\n  }\n\n  "," {\n    & :nth-child(1) {\n      left: 19%;\n      top: 42%;\n    }\n    & :nth-child(2) {\n      left: 25%;\n      top: 23%;\n    }\n    & :nth-child(3) {\n      right: 19%;\n      top: 24%;\n    }\n    & :nth-child(4) {\n      left: 24%;\n      top: 67%;\n    }\n    & :nth-child(5) {\n      right: 24%;\n      top: 67%;\n    }\n  }\n"]);return we=function(){return n},n}var Ce={display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center",backgroundColor:"rgba(100, 100, 100, 0.3)",borderRadius:"25px",border:"1px solid lightgray",padding:"5px",margin:"12px"},ke=(0,c.F4)(xe()),Ie=(0,c.F4)(fe()),Le=(0,c.F4)(pe()),Se=(0,c.F4)(he()),Te=(0,c.F4)(me()),Pe=(0,c.ZP)(l.Z).withConfig({componentId:"sc-b97ef3eb-0"})(ge(),Te),De=(0,c.ZP)(_.Z).withConfig({componentId:"sc-b97ef3eb-1"})(ve(),(function(n){return n.theme.colors.gradients.gold})),Fe=(0,c.ZP)(le).withConfig({componentId:"sc-b97ef3eb-2"})(Ze(),(function(n){var e=n.theme;return n.disabled?e.colors.disabled:"linear-gradient(180deg, #3675D9 0%, #153a7a 100%)"}),(function(n){return n.theme.mediaQueries.xs})),Be=c.ZP.div.withConfig({componentId:"sc-b97ef3eb-3"})(je()),Ee=c.ZP.div.withConfig({componentId:"sc-b97ef3eb-4"})(be()),Ne=c.ZP.div.withConfig({componentId:"sc-b97ef3eb-5"})(ye()),Re=(0,c.ZP)(d.Z).withConfig({componentId:"sc-b97ef3eb-6"})(we(),ke,ke,Ie,Le,Se,(function(n){return n.theme.mediaQueries.sm}),(function(n){return n.theme.mediaQueries.md}),(function(n){return n.theme.mediaQueries.xl})),Me=function(){var n=(0,p.$G)().t,e=F(),t=e.currentRound,r=t.amountCollectedInXfn,i=t.status,s=t.endTime,c=e.isTransitioning,d=(0,z.Iu)(),f=r.times(d),h=(0,A.mW)(f,9),m=i!==x.p3.OPEN||c,g=parseInt(s,10),v=B(g,i),Z=v.nextEventTime;v.postCountdownText,v.preCountdownText;return(0,o.jsxs)(l.Z,{flexDirection:"column",alignItems:"center",justifyContent:"center",children:[(0,o.jsx)(Ne,{}),(0,o.jsxs)(Re,{display:["none","none","block"],children:[(0,o.jsx)("img",{src:"/images/home/lunar-bunny/logo.gif?v=2",width:"0px",height:"0px"}),(0,o.jsx)("img",{src:"/images/home/lunar-bunny/pulse-safemars.png?v=2",width:"0px",height:"0px"}),(0,o.jsx)("img",{src:"/images/home/lunar-bunny/logo.gif?v=2",width:"0px",height:"0px"}),(0,o.jsx)("img",{src:"/images/home/lunar-bunny/logo.gif?v=2",width:"144px",height:"144px"}),(0,o.jsx)("img",{src:"/images/home/lunar-bunny/pulse-safemars.png?v=2",width:"109px",height:"109px"})]}),(0,o.jsxs)("div",{style:{marginBottom:"25px",width:"min(90%, 640px)"},children:[(0,o.jsx)("div",{style:Ce,children:(0,o.jsx)(u.Z,{m:"8px",scale:"xl",color:"#ffffff",id:"lottery-hero-title",children:n("Win Big With Xfortune")})}),(0,o.jsx)("div",{style:{margin:"0 auto",width:"min(90%, 640px)"},children:(0,o.jsx)(de,{nextEventTime:Z})})]}),i===x.p3.OPEN?(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("div",{style:{marginBottom:"25px"},children:(0,o.jsx)("div",{style:Ce,children:(0,o.jsxs)("div",{style:{marginLeft:"75px",marginRight:"75px"},children:[f.isNaN()?(0,o.jsx)(a.Z,{my:"7px",height:60,width:190}):(0,o.jsx)(De,{fontSize:"64px",bold:!0,prefix:"$",value:h,mb:"8px",decimals:0}),(0,o.jsx)(u.Z,{mb:"32px",scale:"lg",color:"#ffffff",children:n("in prizes!")})]})})})}):(0,o.jsx)(u.Z,{mb:"24px",scale:"xl",color:"#ffffff",children:n("Xfortune closed")}),(0,o.jsxs)(Pe,{position:"relative",width:["240px","288px"],height:["94px","113px"],alignItems:"center",justifyContent:"center",style:{marginBottom:"50px"},children:[(0,o.jsx)(Be,{style:{filter:"drop-shadow(5px 5px 8px #222)"},children:(0,o.jsx)(Fe,{disabled:m})}),(0,o.jsx)(Ee,{children:(0,o.jsx)("img",{src:"/images/lottery/xfuzion_ticket.png?v=2",width:"480px",height:"240px",style:{filter:"drop-shadow(5px 5px 8px #222)"}})})]})]})},ze=t(20353),Ae=t(55209),_e=t(70257),We=t(5349),He=t(56063),Ge=t(95459),Ue=t(94998),Oe=t(21308),Ve=t(79940),$e=t(72551),Qe=t(9796),Ye=t(48592),Xe=t(73809),qe=t(8414),Je=t(863),Ke=t(26958),nt=(0,qe.kN)(),et=function(){var n=(0,E.Z)((function(n){var e,t,r,i;return(0,N.__generator)(this,(function(o){switch(o.label){case 0:e=n.map((function(n){var e=n.roundId,t=n.id,r=n.rewardBracket;return{name:"viewRewardsForTicketId",address:nt,params:[e,t,r]}})),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,(0,Qe.v)({abi:Ye,calls:e})];case 2:return t=o.sent(),r=t.reduce((function(n,e){return n.plus(new w.Z(e[0].toString()))}),en.HW),[2,{ticketsWithUnclaimedRewards:n.map((function(n,e){return(0,y.Z)((0,b.Z)({},n),{cakeReward:t[e]})})),cakeTotal:r}];case 3:return i=o.sent(),console.error(i),[2,{ticketsWithUnclaimedRewards:null,cakeTotal:null}];case 4:return[2]}}))}));return function(e){return n.apply(this,arguments)}}(),tt=function(n,e){for(var t=n.split("").reverse(),r=e.split("").reverse(),i=[],o=0;o<r.length-1&&t[o]===r[o];o++)i.push(t[o]);return i.length-1},rt=function(){var n=(0,E.Z)((function(n){var e,t,r,i,o,s,c,l,u;return(0,N.__generator)(this,(function(a){switch(a.label){case 0:return e=n.roundId,t=n.userTickets,r=n.finalNumber,i=t.map((function(n){return{roundId:e,id:n.id,number:n.number,status:n.status,rewardBracket:tt(n.number,r)}})),o=i.filter((function(n){return n.rewardBracket>=0})),(s=o.filter((function(n){return!n.status}))).length>0?[4,et(s)]:[3,2];case 1:return c=a.sent(),l=c.ticketsWithUnclaimedRewards,u=c.cakeTotal,[2,{ticketsWithUnclaimedRewards:l,allWinningTickets:o,cakeTotal:u,roundId:e}];case 2:return o.length>0?[2,{ticketsWithUnclaimedRewards:null,allWinningTickets:o,cakeTotal:null,roundId:e}]:[2,null]}}))}));return function(e){return n.apply(this,arguments)}}(),it=function(n,e){var t=e.find((function(e){return e.id===n}));return null===t||void 0===t?void 0:t.finalNumber},ot=function(){var n=(0,E.Z)((function(n,e,t,r){var i,o,s,c,l,u,a,d,f,p,h;return(0,N.__generator)(this,(function(m){switch(m.label){case 0:return 0===(i=e.rounds).length||e.account.toLowerCase()!==n.toLowerCase()?[2,[]]:(o=i.filter((function(n){var e=parseInt(r,10)-Ke.BC;return parseInt(n.lotteryId,10)>=e})),s=o.filter((function(n){return n.status.toLowerCase()===x.p3.CLAIMABLE})),c=s.filter((function(n){return!n.claimed||parseInt(n.totalTickets,10)>100})),(l=c.slice(0,Xe.f7)).length>0?(u=l.map((function(n){return n.lotteryId})),[4,(0,Je.if)(u,n)]):[3,3]);case 1:return a=m.sent(),d=a.filter((function(n){var e;return(null===n||void 0===n||null===(e=n.userTickets)||void 0===e?void 0:e.length)>0})),f=d.map((function(n){return(0,y.Z)((0,b.Z)({},n),{finalNumber:it(n.roundId,t)})})),[4,Promise.all(f.map((function(n){return rt(n)})))];case 2:return p=m.sent(),h=p.filter((function(n){return null!==n})),[2,h.filter((function(n){return n.ticketsWithUnclaimedRewards}))];case 3:return[2,[]]}}))}));return function(e,t,r,i){return n.apply(this,arguments)}}(),st=ot,ct=t(75472),lt=t.n(ct),ut=t(73955),at=t.n(ut),dt=t(44976),xt=function(n){return(0,o.jsxs)(dt.Z,(0,y.Z)((0,b.Z)({viewBox:"0 0 27 26"},n),{children:[(0,o.jsxs)("mask",{id:"white-bunny-path-1-outside-1",maskUnits:"userSpaceOnUse",x:"0.5",y:"-0.0263672",width:"26",height:"26",fill:"black",children:[(0,o.jsx)("rect",{fill:"white",x:"0.5",y:"-0.0263672",width:"26",height:"26"}),(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.909 3.56941C7.03125 1.79519 8.76206 0.588231 10.4692 1.08677C11.9461 1.51808 12.7937 3.06497 12.3624 4.54184L11.1683 8.63073C11.9225 8.53996 12.7022 8.49237 13.5 8.49237C14.6339 8.49237 15.731 8.58848 16.7708 8.76808L18.74 2.99564C19.2367 1.53947 20.8199 0.761724 22.2761 1.25849C23.9593 1.83269 24.6807 3.81559 23.7601 5.3372L20.9057 10.0551C23.7031 11.3976 25.5 13.4834 25.5 15.8257L25.5 15.8267V17.6934C25.5 21.7435 20.1274 25.0267 13.5 25.0267C6.87258 25.0267 1.5 21.7435 1.5 17.6934V15.8267V15.8257C1.5 13.379 3.46066 11.2122 6.47417 9.88004L6.909 3.56941Z"})]}),(0,o.jsx)("path",{d:"M10.4692 1.08677L10.7142 0.247673V0.247673L10.4692 1.08677ZM6.909 3.56941L7.78108 3.6295V3.62949L6.909 3.56941ZM12.3624 4.54184L13.2015 4.78689V4.78689L12.3624 4.54184ZM11.1683 8.63073L10.3292 8.38568L9.95792 9.65684L11.2727 9.49862L11.1683 8.63073ZM16.7708 8.76808L16.622 9.62947L17.3572 9.75647L17.5981 9.05032L16.7708 8.76808ZM18.74 2.99564L19.5673 3.27788V3.27788L18.74 2.99564ZM22.2761 1.25849L22.5583 0.431153V0.431153L22.2761 1.25849ZM23.7601 5.3372L23.0122 4.88469V4.88469L23.7601 5.3372ZM20.9057 10.0551L20.1578 9.60256L19.6593 10.4265L20.5275 10.8432L20.9057 10.0551ZM25.5 15.8257H24.6258L24.6259 15.8274L25.5 15.8257ZM25.5 15.8267H26.3742L26.3742 15.8251L25.5 15.8267ZM6.47417 9.88004L6.82762 10.6796L7.31 10.4663L7.34626 9.94013L6.47417 9.88004ZM10.7142 0.247673C8.47144 -0.407305 6.19752 1.17838 6.03691 3.50932L7.78108 3.62949C7.86497 2.412 9.05268 1.58377 10.2241 1.92587L10.7142 0.247673ZM13.2015 4.78689C13.7681 2.84659 12.6545 0.814314 10.7142 0.247673L10.2241 1.92587C11.2376 2.22184 11.8192 3.28334 11.5233 4.2968L13.2015 4.78689ZM12.0074 8.87578L13.2015 4.78689L11.5233 4.2968L10.3292 8.38568L12.0074 8.87578ZM13.5 7.61822C12.6675 7.61822 11.853 7.66787 11.0638 7.76284L11.2727 9.49862C11.9921 9.41204 12.7369 9.36652 13.5 9.36652V7.61822ZM16.9195 7.90668C15.8299 7.71847 14.683 7.61822 13.5 7.61822V9.36652C14.5847 9.36652 15.632 9.45848 16.622 9.62947L16.9195 7.90668ZM17.5981 9.05032L19.5673 3.27788L17.9127 2.7134L15.9434 8.48584L17.5981 9.05032ZM19.5673 3.27788C19.9082 2.27864 20.9946 1.74493 21.9938 2.08582L22.5583 0.431153C20.6452 -0.221485 18.5653 0.800311 17.9127 2.7134L19.5673 3.27788ZM21.9938 2.08582C23.1489 2.47985 23.644 3.84054 23.0122 4.88469L24.5081 5.7897C25.7175 3.79064 24.7697 1.18554 22.5583 0.431153L21.9938 2.08582ZM23.0122 4.88469L20.1578 9.60256L21.6536 10.5076L24.5081 5.7897L23.0122 4.88469ZM26.3741 15.8257C26.3741 12.9967 24.2198 10.676 21.284 9.26698L20.5275 10.8432C23.1864 12.1193 24.6259 13.9701 24.6259 15.8257H26.3741ZM26.3742 15.8251L26.3741 15.8241L24.6259 15.8274L24.6259 15.8284L26.3742 15.8251ZM26.3742 17.6934V15.8267H24.6259V17.6934H26.3742ZM13.5 25.9009C16.9478 25.9009 20.1111 25.0486 22.4411 23.6247C24.7561 22.21 26.3742 20.1382 26.3742 17.6934H24.6259C24.6259 19.2987 23.5576 20.8935 21.5295 22.1329C19.5163 23.3632 16.6797 24.1526 13.5 24.1526V25.9009ZM0.62585 17.6934C0.62585 20.1382 2.24387 22.21 4.55889 23.6247C6.88892 25.0486 10.0523 25.9009 13.5 25.9009V24.1526C10.3203 24.1526 7.48367 23.3632 5.47054 22.1329C3.44242 20.8935 2.37415 19.2987 2.37415 17.6934H0.62585ZM0.62585 15.8267V17.6934H2.37415V15.8267H0.62585ZM0.62585 15.8257V15.8267H2.37415V15.8257H0.62585ZM6.12073 9.08053C2.97211 10.4725 0.62585 12.8707 0.62585 15.8257H2.37415C2.37415 13.8874 3.94921 11.952 6.82762 10.6796L6.12073 9.08053ZM6.03691 3.50932L5.60209 9.81995L7.34626 9.94013L7.78108 3.6295L6.03691 3.50932Z",fill:"#08060B",mask:"url(#path-1-outside-1)"}),(0,o.jsx)("path",{d:"M25.5 17.6933C25.5 21.7434 20.1274 25.0267 13.5 25.0267C6.87258 25.0267 1.5 21.7434 1.5 17.6933V15.8267H25.5V17.6933Z",fill:"#F4EEFF"}),(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.909 3.56941C7.03125 1.79519 8.76206 0.588231 10.4692 1.08677C11.9461 1.51808 12.7937 3.06497 12.3624 4.54184L11.1683 8.63073C11.9225 8.53996 12.7022 8.49237 13.5 8.49237C14.6339 8.49237 15.731 8.58848 16.7708 8.76808L18.74 2.99564C19.2367 1.53947 20.8199 0.761724 22.2761 1.25849C23.9593 1.83269 24.6807 3.81559 23.7601 5.3372L20.9057 10.0551C23.7031 11.3976 25.5 13.4834 25.5 15.8257C25.5 19.8758 20.1274 23.159 13.5 23.159C6.87258 23.159 1.5 19.8758 1.5 15.8257C1.5 13.379 3.46066 11.2122 6.47417 9.88004L6.909 3.56941Z",fill:"white"}),(0,o.jsx)("ellipse",{cx:"10.4334",cy:"15.292",rx:"1.33333",ry:"2",fill:"#08060B"}),(0,o.jsx)("ellipse",{cx:"19.6331",cy:"15.292",rx:"1.33333",ry:"2",fill:"#08060B"})]}))};function ft(){var n=(0,i.Z)(["\n  top: 45%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  position: absolute;\n"]);return ft=function(){return n},n}function pt(){var n=(0,i.Z)(["\n  color: rgba(255, 255, 255, 0.8);\n  transform: rotate(","deg);\n"]);return pt=function(){return n},n}var ht=c.ZP.div.withConfig({componentId:"sc-bc8a14c1-0"})(ft()),mt=(0,c.ZP)(X.Z).withConfig({componentId:"sc-bc8a14c1-1"})(pt(),(function(n){return n.rotationTransform||0})),gt={pink:function(n){return(0,o.jsx)("img",{src:"/images/lottery/ball_pink.png",alt:"",width:"128px",height:"128px"})},lilac:function(n){return(0,o.jsx)("img",{src:"/images/lottery/ball_lilac.png",alt:"",width:"128px",height:"128px"})},teal:function(n){return(0,o.jsx)("img",{src:"/images/lottery/ball_teal.png",alt:"",width:"128px",height:"128px"})},aqua:function(n){return(0,o.jsx)("img",{src:"/images/lottery/ball_aqua.png",alt:"",width:"128px",height:"128px"})},green:function(n){return(0,o.jsx)("img",{src:"/images/lottery/ball_green.png",alt:"",width:"128px",height:"128px"})},yellow:function(n){return(0,o.jsx)("img",{src:"/images/lottery/ball_yellow.png",alt:"",width:"128px",height:"128px"})}},vt=function(n){var e=n.color,t=n.number,r=n.size,i=n.fontSize,s=n.rotationTransform,c=gt[e];return(0,o.jsxs)(l.Z,{alignItems:"center",justifyContent:"center",position:"relative",mx:"2px",children:[(0,o.jsx)(c,{width:null!==r&&void 0!==r?r:"32px",height:null!==r&&void 0!==r?r:"32px"}),(0,o.jsx)(ht,{children:(0,o.jsx)(mt,{rotationTransform:s,bold:!0,fontSize:null!==i&&void 0!==i?i:"16px",children:t})})]})},Zt=function(n){var e=n.number,t=n.size,r=void 0===t?"32px":t,i=n.fontSize,c=void 0===i?"16px":i,u=n.rotateText,a=(0,W.Z)(n,["number","size","fontSize","rotateText"]),d=(0,s.useState)([]),x=d[0],f=d[1],p=Un(e).split(""),h=["pink","lilac","teal","aqua","green","yellow"];return(0,s.useEffect)((function(){u&&p&&0===x.length&&f(p.map((function(){return qn()(-30,30)})))}),[u,p,x]),(0,o.jsx)(l.Z,(0,y.Z)((0,b.Z)({justifyContent:"space-between"},a),{children:p.map((function(n,e){return(0,o.jsx)(vt,{rotationTransform:u&&x[e],size:r,fontSize:c,color:h[e],number:n},at()())}))}))};function jt(){var n=(0,i.Z)(["\n  position: relative;\n  padding: 4px 16px;\n  border: 1px solid ",";\n  border-radius: ",";\n  background: ",";\n  justify-content: space-between;\n"]);return jt=function(){return n},n}function bt(){var n=(0,i.Z)(["\n  z-index: 1;\n  width: ",";\n  height: 34px;\n  border-radius: ",";\n  top: 0;\n  left: 0;\n  position: absolute;\n  border: 2px "," solid;\n"]);return bt=function(){return n},n}var yt=(0,c.ZP)(l.Z).withConfig({componentId:"sc-5b3a3e89-0"})(jt(),(function(n){return n.theme.colors.cardBorder}),(function(n){return n.theme.radii.default}),(function(n){return n.theme.colors.background})),wt=c.ZP.div.withConfig({componentId:"sc-5b3a3e89-1"})(bt(),(function(n){var e=n.numberMatches;return"".concat(e<6?17.66*e:100,"%")}),(function(n){return n.theme.radii.default}),(function(n){return n.theme.colors.primary})),Ct=function(n){var e=n.localId,t=n.id,r=n.number,i=n.rewardBracket,s=(0,p.$G)().t,c=Un(r).split(""),u=i+1;return(0,o.jsxs)(l.Z,{flexDirection:"column",mb:"12px",children:[(0,o.jsxs)(l.Z,{justifyContent:"space-between",children:[(0,o.jsxs)(X.Z,{fontSize:"12px",color:"textSubtle",children:["#",e||t]}),i>=0&&(0,o.jsxs)(X.Z,{fontSize:"12px",children:[s("Matched first")," ",u]})]}),(0,o.jsxs)(yt,{children:[i>=0&&(0,o.jsx)(wt,{numberMatches:u}),c.map((function(n){return(0,o.jsx)(X.Z,{fontSize:"16px",children:n},"".concat(e||t,"-").concat(n,"-").concat(at()()))}))]})]})},kt=t(15426),It=t(98066),Lt=t.n(It),St=t(39883),Tt=t(61026),Pt=t(93888),Dt=t(56927),Ft=function(n){var e,t=n.onSuccess,r=n.roundsToClaim,i=(0,m.Ge)().account,c=(0,p.$G)().t,u=(0,v.TL)(),a=F(),d=a.maxNumberTicketsPerBuyOrClaim,x=a.currentLotteryId,f=(0,Pt.Fh)(),h=(0,xn.Z)().toastSuccess,g=(0,sn.Z)(),Z=g.fetchWithCatchTxError,b=g.loading,y=(0,sn.Z)(),w=y.fetchWithCatchTxError,C=y.loading,k=(0,s.useState)(0),I=k[0],L=k[1],S=(0,s.useState)(Math.ceil(r[I].ticketsWithUnclaimedRewards.length/d.toNumber())),T=S[0],P=S[1],D=(0,an.X0)(),B=(0,an.X_)(ee.RS.xfn.address),R=r[I],M=(0,z.Iu)(),W=R.cakeTotal,H=W.times(M),G=(0,A.U4)(W,9).toNumber(),U=(0,A.U4)(H,9).toNumber(),V=(e=R.ticketsWithUnclaimedRewards,{lotteryId:R.roundId,ticketIds:e.map((function(n){return n.id})),brackets:e.map((function(n){return n.rewardBracket}))}),$=d.lt(V.ticketIds.length),Q=function(){r.length>I+1?(L(I+1),u((0,j.wV)({account:i,currentLotteryId:x}))):t()},Y=function(){var n=(0,E.Z)((function(){var n,e,t,r;return(0,N.__generator)(this,(function(i){switch(i.label){case 0:return n=V.lotteryId,e=V.ticketIds,t=V.brackets,[4,Z((function(){return(0,Tt.Zj)(D,"claimTickets",[n,e,t],{gasPrice:f})}))];case 1:return(null===(r=i.sent())||void 0===r?void 0:r.status)&&(h(c("Prizes Collected!"),(0,o.jsx)(pn.YO,{txHash:r.transactionHash,children:c("Your DEP prizes for round %lotteryId% have been sent to your wallet",{lotteryId:n})})),Q()),[2]}}))}));return function(){return n.apply(this,arguments)}}(),q=function(){var n=(0,E.Z)((function(){var n,e;return(0,N.__generator)(this,(function(t){switch(t.label){case 0:return n=V.lotteryId,[4,w((function(){return(0,Tt.Zj)(B,"transfer",[Dt.vn,W.toString()],{gasPrice:f})}))];case 1:return(null===(e=t.sent())||void 0===e?void 0:e.status)&&(h(c("You have burnt"),(0,o.jsx)(pn.YO,{txHash:e.transactionHash,children:c("Your DEP prizes for round %lotteryId% have been burnt to DEAD address",{lotteryId:n})})),Q()),[2]}}))}));return function(){return n.apply(this,arguments)}}(),J=function(){var n=(0,E.Z)((function(){var n,e,t,r,i,s,l,u,a,x,p;return(0,N.__generator)(this,(function(m){switch(m.label){case 0:n=V.lotteryId,e=function(n,e){for(var t=[],r=d.toNumber(),i=0;i<n.length;i+=r){var o=n.slice(i,r+i),s=e.slice(i,r+i);t.push({ticketIds:o,brackets:s})}return t}(V.ticketIds,V.brackets),t=e.length,r=[],i=!0,s=!1,l=void 0,m.label=1;case 1:m.trys.push([1,6,7,8]),u=function(){var e,i;return(0,N.__generator)(this,(function(s){switch(s.label){case 0:return e=x.value,[4,Z((function(){return(0,Tt.Zj)(D,"claimTickets",[n,e.ticketIds,e.brackets],{gasPrice:f})}))];case 1:return(null===(i=s.sent())||void 0===i?void 0:i.status)?(r.push(i),P(t-r.length),r.length!==t&&h(c("Prizes Collected!"),(0,o.jsx)(pn.YO,{txHash:i.transactionHash,children:c("Claim %claimNum% of %claimTotal% for round %lotteryId% was successful. Please confirm the next transaction",{claimNum:r.length,claimTotal:t,lotteryId:n})})),[2]):[2,"break"]}}))},a=e[Symbol.iterator](),m.label=2;case 2:return(i=(x=a.next()).done)?[3,5]:[5,(0,N.__values)(u())];case 3:if("break"===m.sent())return[3,5];m.label=4;case 4:return i=!0,[3,2];case 5:return[3,8];case 6:return p=m.sent(),s=!0,l=p,[3,8];case 7:try{i||null==a.return||a.return()}finally{if(s)throw l}return[7];case 8:return r.length===t&&(h(c("Prizes Collected!"),c("Your DEP prizes for round %lotteryId% have been sent to your wallet",{lotteryId:n})),Q()),[2]}}))}));return function(){return n.apply(this,arguments)}}();return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(l.Z,{flexDirection:"column",children:[(0,o.jsx)(X.Z,{mb:"4px",textAlign:["center",null,"left"],children:c("You won")}),(0,o.jsxs)(l.Z,{alignItems:["flex-start",null,"center"],justifyContent:["flex-start",null,"space-between"],flexDirection:["column",null,"row"],children:[(0,o.jsx)(_.Z,{textAlign:["center",null,"left"],lineHeight:"1.1",value:G,fontSize:"44px",bold:!0,color:"secondary",unit:" XFNs!"}),(0,o.jsx)(Ve.Z,{ml:["0",null,"12px"],width:"64px"})]}),(0,o.jsx)(_.Z,{mt:["12px",null,"0"],textAlign:["center",null,"left"],value:U,fontSize:"12px",color:"textSubtle",unit:" USD",prefix:"~"})]}),(0,o.jsx)(l.Z,{alignItems:"center",justifyContent:"center",children:(0,o.jsxs)(X.Z,{mt:"8px",fontSize:"12px",color:"textSubtle",children:[c("Round")," #",R.roundId]})}),(0,o.jsxs)(l.Z,{alignItems:"center",justifyContent:"center",style:{gap:"10px"},children:[(0,o.jsxs)(O.Z,{isLoading:b,endIcon:b?(0,o.jsx)(gn.Z,{spin:!0,color:"currentColor"}):null,mt:"20px",width:"100%",onClick:function(){return $?J():Y()},children:[c(b?"Claiming":"Claim")," ",T>1?"(".concat(T,")"):""]}),(0,o.jsxs)(O.Z,{isLoading:C,endIcon:C?(0,o.jsx)(gn.Z,{spin:!0,color:"currentColor"}):null,mt:"20px",width:"100%",onClick:function(){return q()},children:[c(C?"Burning":"Burn")," ",T>1?"(".concat(T,")"):""]})]})]})};function Bt(){var n=(0,i.Z)(["\n  position: relative;\n  overflow: visible;\n\n  "," {\n    min-width: 380px;\n  }\n"]);return Bt=function(){return n},n}function Et(){var n=(0,i.Z)(["\n  background: ",";\n  border-top-right-radius: 32px;\n  border-top-left-radius: 32px;\n"]);return Et=function(){return n},n}function Nt(){var n=(0,i.Z)(["\n  position: absolute;\n  top: -155px; // line up fox at the top of the modal\n  left: 0px;\n  text-align: center;\n  width: 100%;\n"]);return Nt=function(){return n},n}var Rt=(0,c.ZP)(kt.F0).withConfig({componentId:"sc-d115740-0"})(Bt(),(function(n){return n.theme.mediaQueries.sm})),Mt=(0,c.ZP)(kt.xB).withConfig({componentId:"sc-d115740-1"})(Et(),(function(n){return n.theme.colors.gradients.cardHeader})),zt=c.ZP.div.withConfig({componentId:"sc-d115740-2"})(Nt()),At=function(){(0,St.Z)({particleCount:200,startVelocity:30,gravity:.5,spread:350,origin:{x:.5,y:.3}})},_t=function(n){var e=n.onDismiss,t=n.roundsToClaim,r=(0,p.$G)().t,i=(0,m.Ge)().account,c=F().currentLotteryId,l=(0,v.TL)();return(0,s.useEffect)((function(){Lt()(At,100)}),[]),(0,o.jsxs)(Rt,{$minWidth:"280px",children:[(0,o.jsx)(zt,{children:(0,o.jsx)("img",{src:"/images/lottery/fox.png",alt:"fox decoration",height:"153px",width:"168px"})}),(0,o.jsxs)(Mt,{children:[(0,o.jsx)(kt.r6,{children:(0,o.jsx)(u.Z,{children:r("Collect Winnings")})}),(0,o.jsx)(kt.ol,{onDismiss:e})]}),(0,o.jsx)(kt.fe,{p:"24px",children:(0,o.jsx)(Ft,{onSuccess:function(){l((0,j.wV)({account:i,currentLotteryId:c})),null===e||void 0===e||e()},roundsToClaim:t})})]})};function Wt(){var n=(0,i.Z)(["\n  flex-direction: column;\n  margin: -24px;\n  padding: 24px;\n  background-color: ",";\n  border-bottom: 1px solid ",";\n"]);return Wt=function(){return n},n}function Ht(){var n=(0,i.Z)(["\n  margin-right: -20px;\n  padding-right: 24px;\n  max-height: 300px;\n  overflow-y: scroll;\n  margin-top: 24px;\n"]);return Ht=function(){return n},n}var Gt=(0,c.ZP)(l.Z).withConfig({componentId:"sc-8ffc109d-0"})(Wt(),(function(n){return n.theme.colors.dropdown}),(function(n){return n.theme.colors.cardBorder})),Ut=(0,c.ZP)(d.Z).withConfig({componentId:"sc-8ffc109d-1"})(Ht()),Ot=function(){return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(a.Z,{width:"32px",height:"12px",mt:"2px",mb:"4px"}),(0,o.jsx)(a.Z,{width:"100%",height:"34px",mb:"12px"})]})},Vt=function(n){var e,t=n.roundId,r=(0,s.useState)(null),i=r[0],c=r[1],u=(0,s.useState)(null),d=u[0],x=u[1],f=(0,s.useState)({allWinningTickets:null,ticketsWithUnclaimedRewards:null,isFetched:!1,claimData:null}),g=f[0],v=f[1],Z=(0,p.$G)().t,j=(0,h.ZP)().theme,b=(0,m.Ge)().account,y=(0,H.Z)((0,G.Z)((0,o.jsx)(_t,{roundsToClaim:[g.claimData]}),!1),1)[0],w=function(){return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(X.Z,{mb:"16px",children:Z("Tickets must match the winning number in the exact same order, starting from the first digit.")}),(0,o.jsx)(X.Z,{mb:"16px",children:Z("If the winning number is \u201c123456\u201d:")}),(0,o.jsx)(X.Z,{mb:"4px",children:Z("\u201c120000\u201d matches the first 2 digits.")}),(0,o.jsx)(X.Z,{children:Z("\u201c000006\u201d matches the last digit, but since the first five digits are wrong, it doesn\u2019t win any prizes.")})]})},C=(0,q.Z)((0,o.jsx)(w,{}),{placement:"bottom-end",tooltipOffset:[20,10]}),k=C.targetRef,I=C.tooltip,L=C.tooltipVisible;(0,s.useEffect)((function(){var n=function(){var n=(0,E.Z)((function(){var n,e,r,i,o,s,l;return(0,N.__generator)(this,(function(u){switch(u.label){case 0:return[4,Promise.all([(0,Je.sh)(b,t),(0,$e.JE)(t)])];case 1:return n=H.Z.apply(void 0,[u.sent(),2]),e=n[0],r=n[1],i=Yn(r),[4,rt({roundId:t,userTickets:e,finalNumber:i.finalNumber.toString()})];case 2:return o=u.sent(),v({isFetched:!0,allWinningTickets:null===o||void 0===o?void 0:o.allWinningTickets,ticketsWithUnclaimedRewards:null===o||void 0===o?void 0:o.ticketsWithUnclaimedRewards,claimData:o}),c(i),(null===o||void 0===o?void 0:o.allWinningTickets)?(d=e,f=o.allWinningTickets,s=d.map((function(n){return f.find((function(e){return e.id===n.id}))||n})),a=s,l=lt()(a,(function(n){return void 0===n.rewardBracket?0:n.rewardBracket+1}),"desc"),x(l)):x(e),[2]}var a,d,f}))}));return function(){return n.apply(this,arguments)}}();n()}),[t,b]);return(0,o.jsxs)(o.Fragment,{children:[L&&I,(0,o.jsxs)(Gt,{children:[(0,o.jsx)(X.Z,{bold:!0,textTransform:"uppercase",color:"secondary",fontSize:"12px",mb:"4px",children:Z("Winning number")}),(null===i||void 0===i?void 0:i.finalNumber)?(0,o.jsx)(Zt,{number:i.finalNumber.toString()}):(0,o.jsx)(a.Z,{width:"230px",height:"34px"})]}),(0,o.jsxs)(Ut,{children:[(0,o.jsx)(X.Z,{bold:!0,textTransform:"uppercase",color:"secondary",fontSize:"12px",my:"16px",children:Z("Your tickets")}),(0,o.jsxs)(l.Z,{mb:"8px",justifyContent:"space-between",children:[(0,o.jsxs)(l.Z,{children:[(0,o.jsx)(Oe.Z,{width:"24px",height:"24px",mr:"8px"}),(0,o.jsxs)(X.Z,{bold:!0,color:"text",children:[Z("Total tickets"),":"]})]}),(0,o.jsx)(X.Z,{bold:!0,color:"text",children:d?d.length:(0,o.jsx)(a.Z,{width:"56px",height:"24px"})})]}),(0,o.jsxs)(l.Z,{mb:"24px",justifyContent:"space-between",children:[(0,o.jsxs)(l.Z,{children:[(0,o.jsx)(Ve.Z,{width:"24px",height:"24px",mr:"8px"}),(0,o.jsxs)(X.Z,{bold:!0,color:"text",children:[Z("Winning tickets"),":"]})]}),(0,o.jsx)(X.Z,{bold:!0,color:"text",children:g.isFetched?(null===g||void 0===g||null===(e=g.allWinningTickets)||void 0===e?void 0:e.length)||"0":(0,o.jsx)(a.Z,{width:"40px",height:"24px"})})]}),d?d.map((function(n){return(0,o.jsx)(Ct,{id:n.id,number:n.number,rewardBracket:n.rewardBracket,status:n.status},n.id)})):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(Ot,{}),(0,o.jsx)(Ot,{}),(0,o.jsx)(Ot,{}),(0,o.jsx)(Ot,{})]})]}),(0,o.jsx)(l.Z,{borderTop:"1px solid ".concat(j.colors.cardBorder),alignItems:"center",justifyContent:"center",children:g.isFetched&&function(){var n;return(null===g||void 0===g||null===(n=g.ticketsWithUnclaimedRewards)||void 0===n?void 0:n.length)>0?(0,o.jsx)(O.Z,{onClick:y,mt:"24px",width:"100%",children:Z("Collect Prizes")}):g.allWinningTickets?null:(0,o.jsx)("div",{ref:k,children:(0,o.jsxs)(l.Z,{alignItems:"center",justifyContent:"center",mt:"20px",children:[(0,o.jsx)(Ge.Z,{height:"20px",width:"20px",color:"textSubtle",mr:"8px"}),(0,o.jsx)(Ue.Z,{color:"textSubtle",children:Z("Why didn't I win?")})]})})}()})]})};function $t(){var n=(0,i.Z)(["\n  max-height: 300px;\n  overflow-y: scroll;\n  margin-left: -24px;\n  margin-right: -24px;\n  padding-left: 24px;\n  padding-right: 20px;\n"]);return $t=function(){return n},n}var Qt=(0,c.ZP)(d.Z).withConfig({componentId:"sc-36023fc7-0"})($t()),Yt=function(){var n=(0,p.$G)().t,e=(0,h.ZP)().theme,t=F(),r=t.isTransitioning,i=t.currentRound,s=i.status,c=i.userTickets,u=s!==x.p3.OPEN||r;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(l.Z,{flexDirection:"column",children:[(0,o.jsx)(X.Z,{bold:!0,textTransform:"uppercase",color:"secondary",fontSize:"12px",mb:"16px",children:n("Your tickets")}),(0,o.jsx)(Qt,{children:c.tickets.map((function(n,e){return(0,o.jsx)(Ct,{localId:e+1,id:n.id,number:n.number,status:n.status},n.id)}))})]}),(0,o.jsx)(l.Z,{borderTop:"1px solid ".concat(e.colors.cardBorder),alignItems:"center",justifyContent:"center",children:(0,o.jsx)(le,{disabled:u,mt:"24px",width:"100%"})})]})};function Xt(){var n=(0,i.Z)(["\n  "," {\n    width: 280px;\n  }\n"]);return Xt=function(){return n},n}var qt=(0,c.ZP)(Y.Z).withConfig({componentId:"sc-776b75ab-0"})(Xt(),(function(n){return n.theme.mediaQueries.md})),Jt=function(n){var e=n.onDismiss,t=n.roundId,r=n.roundStatus,i=(0,p.$G)().t,s=(0,h.ZP)().theme,c=F().currentLotteryId,l=(null===r||void 0===r?void 0:r.toLowerCase())===x.p3.CLAIMABLE||t!==c;return(0,o.jsx)(qt,{title:"".concat(i("Round")," ").concat(t),onDismiss:e,headerBackground:s.colors.gradients.cardHeader,children:l?(0,o.jsx)(Vt,{roundId:t}):(0,o.jsx)(Yt,{})})},Kt=((0,t(71658).jq)(),function(n){var e=n.rewardBracket,t=n.cakeAmount,r=n.numberWinners,i=n.isHistoricRound,s=n.isBurn,c=n.isLoading,u=(0,p.$G)().t,d=(0,z.Iu)();return(0,o.jsxs)(l.Z,{flexDirection:"column",children:[c?(0,o.jsx)(a.Z,{mb:"4px",mt:"8px",height:16,width:80}):(0,o.jsx)(X.Z,{bold:!0,color:s?"failure":"secondary",children:function(){var n=e+1;return s?u("Staking"):u(5===e?"Match all %numberMatch%":"Match first %numberMatch%",{numberMatch:n})}()}),(0,o.jsxs)(o.Fragment,{children:[c||t.isNaN()?(0,o.jsx)(a.Z,{my:"4px",mr:"10px",height:20,width:110}):(0,o.jsx)(_.Z,{fontSize:"20px",bold:!0,unit:"B DEP",value:(0,A.mW)(t,18),decimals:0}),c||t.isNaN()?(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(a.Z,{mt:"4px",mb:"16px",height:12,width:70})}):(0,o.jsx)(_.Z,{fontSize:"12px",color:"textSubtle",prefix:"~$",value:(0,A.mW)(t.times(d),9),decimals:0}),i&&t&&(0,o.jsxs)(o.Fragment,{children:["0"!==r&&(0,o.jsxs)(X.Z,{fontSize:"12px",color:"textSubtle",children:[(0,A.NJ)(t.div(parseInt(r,10)),18,2),"B DEP ",u("each")]}),(0,o.jsxs)(X.Z,{fontSize:"12px",color:"textSubtle",children:[r," ",u("Winning Tickets")]})]})]})]})});function nr(){var n=(0,i.Z)(["\n  width: 100%;\n  flex-direction: column;\n"]);return nr=function(){return n},n}function er(){var n=(0,i.Z)(["\n  display: grid;\n  grid-template-columns: repeat(2, auto);\n  row-gap: 16px;\n\n  "," {\n    grid-template-columns: repeat(4, 1fr);\n  }\n"]);return er=function(){return n},n}var tr=(0,c.ZP)(l.Z).withConfig({componentId:"sc-52ff7969-0"})(nr()),rr=c.ZP.div.withConfig({componentId:"sc-52ff7969-1"})(er(),(function(n){return n.theme.mediaQueries.sm})),ir=function(n){var e=n.lotteryNodeData,t=n.isHistoricRound,r=(0,p.$G)().t,i=(0,s.useState)({isLoading:!0,cakeToBurn:en.HW,rewardsLessTreasuryFee:en.HW,rewardsBreakdown:null,countWinnersPerBracket:null}),c=i[0],l=i[1];(0,s.useEffect)((function(){if(e){var n=e.treasuryFee,t=e.amountCollectedInXfn,r=e.rewardsBreakdown,i=e.countWinnersPerBracket,o=new w.Z(n).div(100).div(100).times(new w.Z(t)),s=new w.Z(t).minus(o);l({isLoading:!1,cakeToBurn:o,rewardsLessTreasuryFee:s,rewardsBreakdown:r,countWinnersPerBracket:i})}else l({isLoading:!0,cakeToBurn:en.HW,rewardsLessTreasuryFee:en.HW,rewardsBreakdown:null,countWinnersPerBracket:null})}),[e]);var u=function(n){var e=new w.Z(c.rewardsBreakdown[n]).div(100);return c.rewardsLessTreasuryFee.div(100).times(e)},a=c.isLoading,d=c.countWinnersPerBracket,x=c.cakeToBurn;return(0,o.jsxs)(tr,{children:[(0,o.jsxs)(X.Z,{fontSize:"14px",mb:"24px",children:[r("Match the winning number in the same order to share prizes.")," ",!t&&r("Current prizes up for grabs:")]}),(0,o.jsxs)(rr,{children:[[0,1,2,3,4,5].map((function(n){return(0,o.jsx)(Kt,{rewardBracket:n,cakeAmount:!a&&u(n),numberWinners:!a&&d[n],isHistoricRound:t,isLoading:a},n)})),(0,o.jsx)(Kt,{rewardBracket:0,cakeAmount:x,isBurn:!0,isLoading:a})]})]})};function or(){var n=(0,i.Z)(["\n  display: grid;\n  grid-template-columns: auto;\n\n  "," {\n    grid-column-gap: 32px;\n    grid-template-columns: auto 1fr;\n  }\n"]);return or=function(){return n},n}function sr(){var n=(0,i.Z)(["\n  width: 100%;\n\n  "," {\n    width: 520px;\n  }\n\n  "," {\n    width: 756px;\n  }\n"]);return sr=function(){return n},n}function cr(){var n=(0,i.Z)(["\n  background: ",";\n  background-image: url('/images/lottery/background_wide.jpg?v=2');\n  background-size: cover;\n  background-repeat: no-repeat;\n  background-position: center center;\n  padding: 24px;\n"]);return cr=function(){return n},n}var lr=c.ZP.div.withConfig({componentId:"sc-6bac7dc4-0"})(or(),(function(n){return n.theme.mediaQueries.md})),ur=(0,c.ZP)(ze.Z).withConfig({componentId:"sc-6bac7dc4-1"})(sr(),(function(n){return n.theme.mediaQueries.sm}),(function(n){return n.theme.mediaQueries.md})),ar=c.ZP.div.withConfig({componentId:"sc-6bac7dc4-2"})(cr(),(function(n){return n.theme.colors.background})),dr=function(){var n,e=(0,p.$G)(),t=e.t,r=e.currentLanguage.locale,i=(0,m.Ge)().account,c=F(),f=c.currentLotteryId,h=c.isTransitioning,g=c.currentRound,v=g.endTime,Z=g.amountCollectedInXfn,j=g.userTickets,b=g.status,y=(0,H.Z)((0,G.Z)((0,o.jsx)(Jt,{roundId:f,roundStatus:b})),1)[0],w=(0,s.useState)(!1),C=w[0],k=w[1],I=b!==x.p3.OPEN||h,L=(0,z.Iu)(),S=Z.times(L),T=1e3*parseInt(v,10),P=new Date(T),D=b===x.p3.OPEN,B=(null===j||void 0===j||null===(n=j.tickets)||void 0===n?void 0:n.length)||0,E=t(B>1?"You have %amount% tickets this round":"You have %amount% ticket this round",{amount:B}),N=(0,H.Z)(E.split(B.toString()),2),R=N[0],M=N[1];return(0,o.jsxs)(ur,{children:[(0,o.jsx)(Ae.Z,{p:"16px 24px",children:(0,o.jsxs)(l.Z,{justifyContent:"space-between",children:[(0,o.jsx)(u.Z,{mr:"12px",children:t("Next Draw")}),(0,o.jsxs)(X.Z,{children:[f&&"#".concat(b===x.p3.OPEN?"".concat(f," |"):b===x.p3.PENDING?"":parseInt(f,10)+1)," ",Boolean(v)&&(b===x.p3.OPEN?"".concat(t("Draw"),": ").concat(P.toLocaleString(r,Qn)):"")]})]})}),(0,o.jsx)(_e.Z,{children:(0,o.jsxs)(lr,{children:[(0,o.jsx)(l.Z,{justifyContent:["center",null,null,"flex-start"],children:(0,o.jsx)(u.Z,{children:t("Prize Pot")})}),(0,o.jsx)(l.Z,{flexDirection:"column",mb:"18px",children:b===x.p3.CLOSE||b===x.p3.CLAIMABLE?(0,o.jsxs)(u.Z,{scale:"xl",color:"secondary",textAlign:["center",null,null,"left"],children:[t("Calculating"),"..."]}):(0,o.jsxs)(o.Fragment,{children:[S.isNaN()?(0,o.jsx)(a.Z,{my:"7px",height:40,width:160}):(0,o.jsx)(_.Z,{fontSize:"40px",color:"secondary",textAlign:["center",null,null,"left"],lineHeight:"1",bold:!0,prefix:"~$",value:(0,A.mW)(S,9),decimals:0}),S.isNaN()?(0,o.jsx)(a.Z,{my:"2px",height:14,width:90}):(0,o.jsx)(_.Z,{fontSize:"14px",color:"textSubtle",textAlign:["center",null,null,"left"],unit:" DEP",value:(0,A.mW)(Z,9),decimals:0})]})}),(0,o.jsx)(d.Z,{display:["none",null,null,"flex"],children:(0,o.jsx)(u.Z,{children:t("Your tickets")})}),(0,o.jsxs)(l.Z,{flexDirection:["column",null,null,"row"],alignItems:["center",null,null,"flex-start"],children:[D&&(0,o.jsxs)(l.Z,{flexDirection:"column",mr:[null,null,null,"24px"],alignItems:["center",null,null,"flex-start"],children:[i&&(0,o.jsxs)(l.Z,{justifyContent:["center",null,null,"flex-start"],children:[(0,o.jsxs)(X.Z,{display:"inline",children:[R," "]}),j.isLoading?(0,o.jsx)(a.Z,{mx:"4px",height:20,width:40}):(0,o.jsx)(_.Z,{value:B,decimals:0,display:"inline",bold:!0,mx:"4px"}),(0,o.jsxs)(X.Z,{display:"inline",children:[" ",M]})]}),!j.isLoading&&B>0&&(0,o.jsx)(O.Z,{onClick:y,height:"auto",width:"fit-content",p:"0",mb:["32px",null,null,"0"],variant:"text",scale:"sm",children:t("View your tickets")})]}),(0,o.jsx)(le,{disabled:I,maxWidth:"280px"})]})]})}),(0,o.jsxs)(We.Z,{p:"0",children:[C&&(0,o.jsx)(ar,{children:(0,o.jsx)(ir,{lotteryNodeData:g})}),(b===x.p3.OPEN||b===x.p3.CLOSE)&&(0,o.jsx)(l.Z,{p:"8px 24px",alignItems:"center",justifyContent:"center",children:(0,o.jsx)(He.L,{expanded:C,onClick:function(){return k(!C)},children:t(C?"Hide":"Details")})})]})]})},xr=t(13471);function fr(){var n=(0,i.Z)(["\n  ","\n  div:last-of-type {\n    margin-right: 0;\n  }\n"]);return fr=function(){return n},n}function pr(){var n=(0,i.Z)(["\n  background: ",";\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n"]);return pr=function(){return n},n}var hr=(0,c.ZP)(l.Z).withConfig({componentId:"sc-b225b2f2-0"})(fr(),(function(n){var e=n.theme;return n.showTooltip?" border-bottom: 1px dashed ".concat(e.colors.textSubtle,";"):""})),mr=(0,c.ZP)(u.Z).withConfig({componentId:"sc-b225b2f2-1"})(pr(),(function(n){return n.theme.colors.gradients.gold})),gr=function(n){var e=n.minutes,t=n.hours,r=n.days,i=n.seconds,s=n.wrapperClassName,c=(0,p.$G)().t;return(0,o.jsxs)(hr,{alignItems:"flex-end",className:s,children:[Boolean(r)&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(mr,{mb:"-4px",scale:"xl",mr:"4px",children:r}),(0,o.jsx)(mr,{mr:"12px",children:c("d")})]}),Boolean(t)&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(mr,{mb:"-4px",scale:"xl",mr:"4px",children:t}),(0,o.jsx)(mr,{mr:"12px",children:c("h")})]}),Boolean(e)&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(mr,{mb:"-4px",scale:"xl",mr:"4px",children:e}),(0,o.jsx)(mr,{mr:"12px",children:c("m")})]}),Boolean(i)&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(mr,{mb:"-4px",scale:"xl",mr:"4px",children:i}),(0,o.jsx)(mr,{mr:"12px",children:c("s")})]})]})},vr=function(n){var e=(0,v.TL)(),t=(0,s.useState)(null),r=t[0],i=t[1],o=(0,s.useRef)(null),c=F().currentLotteryId;return(0,s.useEffect)((function(){e((0,j.og)({isTransitioning:!1}));var t=Math.floor(Date.now()/1e3);return i(n-t),o.current=setInterval((function(){i((function(n){return n<=1&&(clearInterval(o.current),e((0,j.og)({isTransitioning:!0})),e((0,j.PU)({currentLotteryId:c}))),n-1}))}),1e3),function(){return clearInterval(o.current)}}),[i,n,c,o,e]),r},Zr=function(n){var e=n.nextEventTime,t=n.preCountdownText,r=n.postCountdownText,i=vr(e),s=(0,xr.Z)(i),c=s.days,d=s.hours,x=s.minutes;return(0,o.jsx)(o.Fragment,{children:i?(0,o.jsxs)(l.Z,{display:"inline-flex",justifyContent:"flex-end",alignItems:"flex-end",children:[t&&(0,o.jsx)(u.Z,{mr:"12px",color:"#ffff",children:t}),(0,o.jsx)(gr,{minutes:x+1,hours:d,days:c}),r&&(0,o.jsx)(u.Z,{color:"#ffff",children:r})]}):(0,o.jsx)(a.Z,{height:"41px",width:"250px"})})},jr=t(12587),br=t(51983),yr=function(n){var e=n.setActiveIndex,t=n.activeIndex,r=(0,p.$G)().t;return(0,o.jsxs)(jr.Z,{activeIndex:t,onItemClick:e,scale:"sm",variant:"subtle",children:[(0,o.jsx)(br.Z,{children:r("All History")}),(0,o.jsx)(br.Z,{children:r("Your History")})]})},wr=t(54548),Cr=t(98468);function kr(){var n=(0,i.Z)(["\n  display: grid;\n  grid-template-columns: repeat(3, 1fr) auto;\n  margin-bottom: 8px;\n  cursor: pointer;\n"]);return kr=function(){return n},n}function Ir(){var n=(0,i.Z)(["\n  path {\n    fill: ",";\n  }\n"]);return Ir=function(){return n},n}var Lr=(0,c.ZP)(d.Z).withConfig({componentId:"sc-7907b7cb-0"})(kr()),Sr=(0,c.ZP)(wr.Z).withConfig({componentId:"sc-7907b7cb-1"})(Ir(),(function(n){return n.theme.colors.textDisabled})),Tr=function(n){var e=n.roundId,t=n.numberTickets,r=n.endTime,i=n.onClick,s=n.hasWon,c=void 0!==s&&s,u=(0,p.$G)().currentLanguage.locale,a=1e3*parseInt(r,10),d=new Date(a);return(0,o.jsxs)(Lr,{onClick:function(){return i(e)},children:[(0,o.jsx)(l.Z,{alignItems:"center",children:(0,o.jsx)(X.Z,{fontSize:"16px",color:"textSubtle",children:e})}),(0,o.jsxs)(l.Z,{mx:"6px",alignItems:["flex-start",null,"center"],justifyContent:["center",null,"flex-start"],flexDirection:["column",null,"row"],children:[(0,o.jsx)(X.Z,{fontSize:"12px",mr:["0",null,"6px"],children:d.toLocaleDateString(u,Vn)}),(0,o.jsx)(X.Z,{fontSize:"12px",color:"textSubtle",children:d.toLocaleTimeString(void 0,$n)})]}),(0,o.jsxs)(l.Z,{mx:"6px",alignItems:"center",justifyContent:"space-between",children:[(0,o.jsx)(X.Z,{children:t}),c?(0,o.jsx)(Cr.Z,{color:"warning"}):(0,o.jsx)(Sr,{})]}),(0,o.jsx)(l.Z,{alignItems:"center",justifyContent:"center",children:(0,o.jsx)(hn.Z,{color:"primary"})})]})};function Pr(){var n=(0,i.Z)(["\n  display: grid;\n  grid-template-columns: repeat(3, 1fr) auto;\n"]);return Pr=function(){return n},n}var Dr=(0,c.ZP)(d.Z).withConfig({componentId:"sc-17ec0594-0"})(Pr()),Fr=function(n){var e,t=n.handleShowMoreClick,r=n.numUserRoundsRequested,i=n.handleHistoryRowClick,s=(0,p.$G)().t,c=P(),u=null===c||void 0===c?void 0:c.rounds.filter((function(n){return n.status.toLowerCase()===x.p3.CLAIMABLE})),a=null===u||void 0===u?void 0:u.sort((function(n,e){return parseInt(e.lotteryId,10)-parseInt(n.lotteryId,10)}));return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(Dr,{px:"24px",pt:"24px",mb:"8px",children:[(0,o.jsx)(X.Z,{bold:!0,fontSize:"12px",color:"secondary",children:"#"}),(0,o.jsx)(X.Z,{bold:!0,fontSize:"12px",color:"secondary",textTransform:"uppercase",children:s("Date")}),(0,o.jsx)(X.Z,{bold:!0,fontSize:"12px",color:"secondary",textTransform:"uppercase",children:s("Your Tickets")}),(0,o.jsx)(d.Z,{width:"20px"})]}),(0,o.jsxs)(l.Z,{px:"24px",pb:"24px",flexDirection:"column",overflowY:"scroll",height:"240px",children:[c&&a.map((function(n){return(0,o.jsx)(Tr,{roundId:n.lotteryId,hasWon:n.claimed,numberTickets:n.totalTickets,endTime:n.endTime,onClick:i},n.lotteryId)})),(null===c||void 0===c||null===(e=c.rounds)||void 0===e?void 0:e.length)===r&&(0,o.jsx)(l.Z,{justifyContent:"center",children:(0,o.jsx)(O.Z,{mt:"12px",variant:"text",width:"fit-content",onClick:t,children:s("Show More")})})]})]})},Br=t(95857),Er=t(34701),Nr=t(55787);function Rr(){var n=(0,i.Z)(["\n  position: relative;\n  overflow: hidden;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]);return Rr=function(){return n},n}function Mr(){var n=(0,i.Z)(["\n  display: grid;\n  grid-template-columns: auto;\n\n  "," {\n    grid-column-gap: 72px;\n    grid-row-gap: 36px;\n    grid-template-columns: auto 1fr;\n  }\n"]);return Mr=function(){return n},n}function zr(){var n=(0,i.Z)(["\n  right: -20px;\n  top: -20px;\n\n  "," {\n    right: -10px;\n    top: -10px;\n  }\n"]);return zr=function(){return n},n}var Ar=(0,c.ZP)(_e.Z).withConfig({componentId:"sc-386b8ca9-0"})(Rr()),_r=c.ZP.div.withConfig({componentId:"sc-386b8ca9-1"})(Mr(),(function(n){return n.theme.mediaQueries.md})),Wr=(0,c.ZP)(Br.Z).withConfig({componentId:"sc-386b8ca9-2"})(zr(),(function(n){return n.theme.mediaQueries.xs})),Hr=function(n){var e=n.lotteryNodeData,t=n.lotteryId,r=(0,p.$G)().t,i=F(),s=i.currentLotteryId,c=i.currentRound.status,f=P().rounds.find((function(n){return n.lotteryId===t})),h=(0,Er.Z)(),m=h.isLg,g=h.isXl,v=h.isXxl,Z=m||g||v,j=parseInt(s),b=(c===x.p3.CLAIMABLE?j:j-1).toString()===t,y=(0,H.Z)((0,G.Z)((0,o.jsx)(Jt,{roundId:t,roundStatus:null===e||void 0===e?void 0:e.status})),1)[0],w=f?f.totalTickets:0,C=Number(w)>1?r("You had %amount% tickets this round",{amount:w}):r("You had %amount% ticket this round",{amount:w}),k=(0,H.Z)(C.split(w.toString()),2),I=k[0],L=k[1];return(0,o.jsxs)(Ar,{children:[b&&(0,o.jsx)(Wr,{text:r("Latest")}),(0,o.jsxs)(_r,{children:[(0,o.jsx)(l.Z,{justifyContent:["center",null,null,"flex-start"],children:(0,o.jsx)(u.Z,{mb:"24px",children:r("Winning Number")})}),(0,o.jsx)(l.Z,{maxWidth:["240px",null,null,"100%"],justifyContent:["center",null,null,"flex-start"],children:t?(null===e||void 0===e?void 0:e.finalNumber)?(0,o.jsx)(Zt,{rotateText:Z||!1,number:null===e||void 0===e?void 0:e.finalNumber.toString(),mr:[null,null,null,"32px"],size:"100%",fontSize:Z?"64px":"32px"}):(0,o.jsx)(a.Z,{width:["240px",null,null,"450px"],height:["34px",null,null,"71px"],mr:[null,null,null,"32px"]}):(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)(l.Z,{flexDirection:"column",alignItems:"center",width:["240px",null,null,"480px"],children:[(0,o.jsx)(X.Z,{mb:"8px",children:r("Please specify Round")}),(0,o.jsx)(Nr.Z,{height:"64px",width:"64px"})]})})}),f&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(d.Z,{display:["none",null,null,"flex"],children:(0,o.jsx)(u.Z,{children:r("Your tickets")})}),(0,o.jsxs)(l.Z,{flexDirection:"column",mr:[null,null,null,"24px"],alignItems:["center",null,null,"flex-start"],children:[(0,o.jsxs)(d.Z,{mt:["32px",null,null,0],children:[(0,o.jsxs)(X.Z,{display:"inline",children:[I," "]}),(0,o.jsx)(X.Z,{display:"inline",bold:!0,children:f.totalTickets}),(0,o.jsx)(X.Z,{display:"inline",children:L})]}),(0,o.jsx)(O.Z,{onClick:y,height:"auto",width:"fit-content",p:"0",variant:"text",scale:"sm",children:r("View your tickets")})]})]})]})]})};function Gr(){var n=(0,i.Z)(["\n  background: ",";\n  background-image: url('/images/lottery/background_wide.jpg?v=2');\n  background-size: cover;\n  background-repeat: no-repeat;\n  background-position: center center;\n  padding: 24px;\n  flex-direction: column;\n\n  "," {\n    flex-direction: row;\n  }\n"]);return Gr=function(){return n},n}var Ur=(0,c.ZP)(l.Z).withConfig({componentId:"sc-a6f13492-0"})(Gr(),(function(n){return n.theme.colors.background}),(function(n){return n.theme.mediaQueries.sm})),Or=function(n){var e=n.lotteryNodeData,t=n.lotteryId,r=(0,p.$G)().t,i=(0,s.useState)(),c=i[0],x=i[1],f=D(t),h=(0,z.Iu)();(0,s.useEffect)((function(){var n=function(){var n=(0,E.Z)((function(){var n;return(0,N.__generator)(this,(function(e){switch(e.label){case 0:return[4,(0,Ke.GP)(void 0,void 0,{id_in:[t]})];case 1:return n=e.sent(),x(n[0]),[2]}}))}));return function(){return n.apply(this,arguments)}}();f||n()}),[f,t]);var m=new w.Z(NaN);if(e){var g=e.amountCollectedInXfn;m=g.times(h)}return(0,o.jsxs)(Ur,{children:[(0,o.jsxs)(l.Z,{mr:"24px",flexDirection:"column",justifyContent:"space-between",children:[(0,o.jsxs)(d.Z,{children:[(0,o.jsx)(u.Z,{children:r("Prize pot")}),(0,o.jsxs)(o.Fragment,{children:[m.isNaN()?(0,o.jsx)(a.Z,{my:"7px",height:40,width:200}):(0,o.jsxs)(u.Z,{scale:"xl",lineHeight:"1",color:"secondary",children:["~$",(0,A.uf)((0,A.mW)(m,9),0,0)]}),m.isNaN()?(0,o.jsx)(a.Z,{my:"2px",height:14,width:90}):(0,o.jsx)(_.Z,{fontSize:"14px",color:"textSubtle",unit:" SOMI",value:(0,A.mW)(null===e||void 0===e?void 0:e.amountCollectedInXfn,9),decimals:0})]})]}),(0,o.jsx)(d.Z,{mb:"24px",children:(0,o.jsx)(l.Z,{children:(0,o.jsxs)(X.Z,{fontSize:"14px",display:"inline",children:[r("Total players this round"),":"," ",e&&(f||c)?function(){var n,e;return!f&&c?null===c||void 0===c||null===(n=c.totalUsers)||void 0===n?void 0:n.toLocaleString():f?null===f||void 0===f||null===(e=f.totalUsers)||void 0===e?void 0:e.toLocaleString():null}():(0,o.jsx)(a.Z,{height:14,width:31})]})})})]}),(0,o.jsx)(ir,{lotteryNodeData:e,isHistoricRound:!0})]})},Vr=function(n){var e=n.lotteryNodeData,t=n.lotteryId,r=(0,p.$G)().t,i=(0,s.useState)(!1),c=i[0],u=i[1];return(0,s.useEffect)((function(){t||u(!1)}),[t]),(0,o.jsxs)(We.Z,{p:"0",children:[c&&(0,o.jsx)(Or,{lotteryNodeData:e,lotteryId:t}),(0,o.jsx)(l.Z,{p:"8px 24px",alignItems:"center",justifyContent:"center",children:(0,o.jsx)(He.L,{expanded:c,onClick:function(){t&&u(!c)},children:r(c?"Hide":"Details")})})]})};function $r(){var n=(0,i.Z)(["\n  width: 100%;\n\n  "," {\n    width: 756px;\n  }\n"]);return $r=function(){return n},n}function Qr(){var n=(0,i.Z)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  min-height: 240px;\n"]);return Qr=function(){return n},n}var Yr=(0,c.ZP)(ze.Z).withConfig({componentId:"sc-20469458-0"})($r(),(function(n){return n.theme.mediaQueries.md})),Xr=(0,c.ZP)(_e.Z).withConfig({componentId:"sc-20469458-1"})(Qr()),qr=function(n){var e=n.handleShowMoreClick,t=n.numUserRoundsRequested,r=(0,p.$G)(),i=r.t,c=r.currentLanguage.locale,f=(0,m.Ge)().account,h=(0,s.useState)(!1),g=h[0],v=h[1],Z=(0,s.useState)(null),j=Z[0],b=Z[1],y=(0,s.useState)(null),w=y[0],C=y[1],k=F(),I=k.isTransitioning,L=k.currentRound.status,S=P(),T=L!==x.p3.OPEN||I,D=function(){var n=(0,E.Z)((function(n){var e,t;return(0,N.__generator)(this,(function(r){switch(r.label){case 0:return v(!0),C(n),[4,(0,$e.JE)(n)];case 1:return e=r.sent(),t=Yn(e),b(t),[2]}}))}));return function(e){return n.apply(this,arguments)}}(),B=(0,s.useCallback)((function(){v(!1),b(null),C(null)}),[]);return(0,o.jsxs)(Yr,{children:[(0,o.jsx)(Ae.Z,{children:g?(0,o.jsxs)(l.Z,{alignItems:"center",children:[(0,o.jsx)(Fn.Z,{cursor:"pointer",onClick:B,mr:"20px"}),(0,o.jsxs)(l.Z,{flexDirection:"column",alignItems:"flex-start",justifyContent:"center",children:[(0,o.jsxs)(u.Z,{scale:"md",mb:"4px",children:[i("Round")," ",w||""]}),(null===j||void 0===j?void 0:j.endTime)?(0,o.jsxs)(X.Z,{fontSize:"14px",children:[i("Drawn")," ",On(c,j.endTime)]}):(0,o.jsx)(a.Z,{width:"185px",height:"21px"})]})]}):(0,o.jsx)(u.Z,{scale:"md",children:i("Rounds")})}),function(){if(g)return(0,o.jsx)(Hr,{lotteryNodeData:j,lotteryId:w});var n=null===S||void 0===S?void 0:S.rounds.filter((function(n){return n.status.toLowerCase()===x.p3.CLAIMABLE}));return f?0===n.length?(0,o.jsx)(Xr,{children:(0,o.jsxs)(d.Z,{maxWidth:"280px",children:[(0,o.jsxs)(l.Z,{alignItems:"center",justifyContent:"center",mb:"16px",children:[(0,o.jsx)(xt,{height:"24px",mr:"8px"})," ",(0,o.jsx)(X.Z,{textAlign:"left",children:i("No lottery history found")})]}),(0,o.jsx)(X.Z,{textAlign:"center",color:"textSubtle",mb:"16px",children:i("Buy tickets for the next round!")}),(0,o.jsx)(le,{disabled:T,width:"100%"})]})}):(0,o.jsx)(Fr,{handleHistoryRowClick:D,handleShowMoreClick:e,numUserRoundsRequested:t}):(0,o.jsxs)(Xr,{children:[(0,o.jsx)(X.Z,{textAlign:"center",color:"textSubtle",mb:"16px",children:i("Connect your wallet to check your history")}),(0,o.jsx)(fn.Z,{})]})}(),j?(0,o.jsx)(Vr,{lotteryNodeData:j,lotteryId:w}):(0,o.jsx)(We.Z,{children:(0,o.jsx)(l.Z,{flexDirection:"column",justifyContent:"center",alignItems:"center",children:(0,o.jsx)(X.Z,{fontSize:"12px",color:"textSubtle",children:i("Only showing data for Lottery V2")})})})]})},Jr=t(32762),Kr=t(89663),ni=t(61549);function ei(){var n=(0,i.Z)(["\n  width: 60px;\n  height: 100%;\n  padding: 4px 16px;\n"]);return ei=function(){return n},n}function ti(){var n=(0,i.Z)(["\n  width: 32px;\n\n  :disabled {\n    background: none;\n\n    svg {\n      fill: ",";\n\n      path {\n        fill: ",";\n      }\n    }\n  }\n"]);return ti=function(){return n},n}var ri=(0,c.ZP)(Jr.Z).withConfig({componentId:"sc-e71dbf99-0"})(ei()),ii=(0,c.ZP)(Kr.Z).withConfig({componentId:"sc-e71dbf99-1"})(ti(),(function(n){return n.theme.colors.textDisabled}),(function(n){return n.theme.colors.textDisabled})),oi=function(n){var e=n.isLoading,t=n.selectedRoundId,r=n.mostRecentRound,i=n.handleInputChange,s=n.handleArrowButtonPress,c=(0,p.$G)().t,a=parseInt(t,10);return(0,o.jsxs)(l.Z,{alignItems:"center",justifyContent:"space-between",children:[(0,o.jsxs)(l.Z,{alignItems:"center",children:[(0,o.jsx)(u.Z,{mr:"8px",children:c("Round")}),(0,o.jsx)(ri,{pattern:"^[0-9]+$",inputMode:"numeric",disabled:e,id:"round-id",name:"round-id",value:t,scale:"lg",onChange:function(n){n.currentTarget.validity.valid&&i(n)}})]}),(0,o.jsxs)(l.Z,{alignItems:"center",children:[(0,o.jsx)(ii,{disabled:!a||a<=1,onClick:function(){return s(a-1)},variant:"text",scale:"sm",mr:"4px",children:(0,o.jsx)(Fn.Z,{})}),(0,o.jsx)(ii,{disabled:a>=r,onClick:function(){return s(a+1)},variant:"text",scale:"sm",mr:"4px",children:(0,o.jsx)(nn.Z,{})}),(0,o.jsx)(ii,{disabled:a>=r,onClick:function(){return s(r)},variant:"text",scale:"sm",children:(0,o.jsx)(ni.Z,{})})]})]})};function si(){var n=(0,i.Z)(["\n  width: 100%;\n\n  "," {\n    width: 756px;\n  }\n"]);return si=function(){return n},n}function ci(){var n=(0,i.Z)(["\n  z-index: 2;\n  background: none;\n  border-bottom: 1px "," solid;\n"]);return ci=function(){return n},n}var li=(0,c.ZP)(ze.Z).withConfig({componentId:"sc-32e0b35f-0"})(si(),(function(n){return n.theme.mediaQueries.md})),ui=(0,c.ZP)(Ae.Z).withConfig({componentId:"sc-32e0b35f-1"})(ci(),(function(n){return n.theme.colors.cardBorder})),ai=function(){var n=(0,p.$G)(),e=n.t,t=n.currentLanguage.locale,r=(0,v.TL)(),i=F(),c=i.currentLotteryId,l=i.lotteriesData,u=i.currentRound,f=u.status,h=u.isLoading,m=(0,s.useState)(null),g=m[0],Z=m[1],j=(0,s.useState)(""),b=j[0],y=j[1],w=(0,s.useState)(null),C=w[0],k=w[1],I=(0,s.useRef)(null),L=null===l||void 0===l?void 0:l.length;(0,s.useEffect)((function(){if(c){var n=c?parseInt(c):null,e=f===x.p3.CLAIMABLE?n:n-1;Z(e),y(e.toString())}}),[c,f]),(0,s.useEffect)((function(){k(null);var n=function(){var n=(0,E.Z)((function(){var n,e;return(0,N.__generator)(this,(function(t){switch(t.label){case 0:return[4,(0,$e.JE)(b)];case 1:return n=t.sent(),e=Yn(n),k(e),[2]}}))}));return function(){return n.apply(this,arguments)}}();return I.current=setInterval((function(){b&&n(),clearInterval(I.current)}),1e3),function(){return clearInterval(I.current)}}),[b,c,L,r]);return(0,o.jsxs)(li,{children:[(0,o.jsxs)(ui,{children:[(0,o.jsx)(oi,{isLoading:h,selectedRoundId:b,mostRecentRound:g,handleInputChange:function(n){var e=n.target.value;e?(y(e),parseInt(e,10)<=0&&y(""),parseInt(e,10)>=g&&y(g.toString())):y("")},handleArrowButtonPress:function(n){y(n?n.toString():"1")}}),(0,o.jsx)(d.Z,{mt:"8px",children:b?(null===C||void 0===C?void 0:C.endTime)?(0,o.jsxs)(X.Z,{fontSize:"14px",children:[e("Drawn")," ",On(t,C.endTime)]}):(0,o.jsx)(a.Z,{width:"185px",height:"21px"}):null})]}),(0,o.jsx)(Hr,{lotteryNodeData:C,lotteryId:b}),(0,o.jsx)(Vr,{lotteryNodeData:C,lotteryId:b})]})},di=function(){var n=(0,m.Ge)().account,e=F(),t=e.isTransitioning,r=e.currentLotteryId,i=P(),o=(0,g.v9)((function(n){return n.lottery.lotteriesData})),c=(0,s.useState)([]),l=c[0],u=c[1],a=(0,s.useState)(x.iF.Idle),d=a[0],f=a[1];(0,s.useEffect)((function(){f(x.iF.Idle)}),[n,t]);var p=function(){var e=(0,E.Z)((function(){var e;return(0,N.__generator)(this,(function(t){switch(t.label){case 0:return f(x.iF.Fetching),[4,st(n,i,o,r)];case 1:return e=t.sent(),u(e),f(x.iF.Fetched),[2]}}))}));return function(){return e.apply(this,arguments)}}();return{fetchAllRewards:p,unclaimedRewards:l,fetchStatus:d}};function xi(){var n=(0,i.Z)(["\n  height: 60px;\n  "," {\n    height: 100px;\n  }\n"]);return xi=function(){return n},n}function fi(){var n=(0,i.Z)(["\n  height: 54px;\n  "," {\n    height: 84px;\n  }\n"]);return fi=function(){return n},n}var pi=c.ZP.img.withConfig({componentId:"sc-4b43a1f7-0"})(xi(),(function(n){return n.theme.mediaQueries.sm})),hi=c.ZP.img.withConfig({componentId:"sc-4b43a1f7-1"})(fi(),(function(n){return n.theme.mediaQueries.sm})),mi=function(){var n=(0,p.$G)().t,e=(0,m.Ge)().account,t=F(),r=t.isTransitioning,i=t.currentRound.status,c=di(),a=c.fetchAllRewards,d=c.unclaimedRewards,f=c.fetchStatus,h=P(),g=(0,s.useState)(!1),v=g[0],Z=g[1],j=(0,s.useState)(!1),b=j[0],y=j[1],w=(0,H.Z)((0,G.Z)((0,o.jsx)(_t,{roundsToClaim:d}),!1),1)[0],C=f===x.iF.Fetching,k=i===x.p3.CLOSE,I=!h.account||k;(0,s.useEffect)((function(){f===x.iF.Fetched&&(d.length>0&&!v&&(y(!0),Z(!0),w()),0!==d.length||v||(y(!1),Z(!0)))}),[d,v,f,w]),(0,s.useEffect)((function(){y(!1),Z(!1)}),[e,r]);return(0,o.jsx)(l.Z,{children:function(){if(!e)return(0,o.jsxs)(l.Z,{alignItems:"center",justifyContent:"center",children:[(0,o.jsx)(pi,{src:"/images/lottery/xfortune-ticket-l-safemars.png",alt:"lottery ticket"}),(0,o.jsxs)(l.Z,{mx:["4px",null,"16px"],flexDirection:"column",alignItems:"center",children:[(0,o.jsx)(u.Z,{textAlign:"center",color:"#F4EEFF",children:n("Connect your wallet")}),(0,o.jsx)(u.Z,{textAlign:"center",color:"#F4EEFF",mb:"24px",children:n("to check if you've won!")}),(0,o.jsx)(fn.Z,{width:"190px"})]}),(0,o.jsx)(pi,{src:"/images/lottery/xfortune-ticket-r-safemars.png",alt:"lottery ticket"})]});if(v&&!b)return(0,o.jsxs)(l.Z,{alignItems:"center",justifyContent:"center",children:[(0,o.jsx)(hi,{src:"/images/lottery/xfortune-torn-ticket-l.png",alt:"torn lottery ticket"}),(0,o.jsxs)(l.Z,{mx:["4px",null,"16px"],flexDirection:"column",children:[(0,o.jsxs)(u.Z,{textAlign:"center",color:"#F4EEFF",children:[n("No prizes to collect"),"..."]}),(0,o.jsx)(u.Z,{textAlign:"center",color:"#F4EEFF",children:n("Better luck next time!")})]}),(0,o.jsx)(hi,{src:"/images/lottery/xfortune-torn-ticket-r.png",alt:"torn lottery ticket"})]});if(v&&b)return(0,o.jsxs)(l.Z,{alignItems:"center",justifyContent:"center",children:[(0,o.jsx)(pi,{src:"/images/lottery/xfortune-ticket-l-safemars.png",alt:"lottery ticket"}),(0,o.jsxs)(l.Z,{mx:["4px",null,"16px"],flexDirection:"column",children:[(0,o.jsx)(u.Z,{textAlign:"center",color:"#F4EEFF",children:n("Congratulations!")}),(0,o.jsx)(u.Z,{textAlign:"center",color:"#F4EEFF",children:n("Why not play again")})]}),(0,o.jsx)(pi,{src:"/images/lottery/xfortune-ticket-r-safemars.png",alt:"lottery ticket"})]});return(0,o.jsxs)(l.Z,{alignItems:"center",justifyContent:"center",children:[(0,o.jsx)(pi,{src:"/images/lottery/xfortune-ticket-l-safemars.png",alt:"lottery ticket"}),(0,o.jsxs)(l.Z,{mx:["4px",null,"16px"],flexDirection:"column",children:[(0,o.jsx)(u.Z,{textAlign:"center",color:"#F4EEFF",mb:"24px",children:n("Are you a winner?")}),(0,o.jsx)(O.Z,{disabled:I,onClick:a,isLoading:C,endIcon:C?(0,o.jsx)(gn.Z,{color:"currentColor",spin:!0}):null,children:k?"".concat(n("Calculating rewards"),"..."):n(C?"Checking":"Check Now")})]}),(0,o.jsx)(pi,{src:"/images/lottery/xfortune-ticket-r-safemars.png",alt:"lottery ticket"})]})}()})},gi=t(35159),vi=function(){var n=(0,m.Ge)().account,e=(0,v.TL)(),t=(0,s.useState)(gi.n5),r=t[0],i=t[1];return{numUserRoundsRequested:r,handleShowMoreUserRounds:function(){e((0,j.Mz)({account:n,skip:r})),i(r+gi.n5)}}},Zi=t(27553);function ji(){var n=(0,i.Z)(["\n  min-height: calc(100vh - 64px);\n"]);return ji=function(){return n},n}var bi={display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center",backgroundColor:"rgba(100, 100, 100, 0.3)",borderRadius:"25px",border:"1px solid lightgray",padding:"5px",margin:"12px",boxShadow:"2px 4px 8px rgba(0, 0, 0, 0.5)"},yi=c.ZP.div.withConfig({componentId:"sc-6d49edca-0"})(ji()),wi=function(){!function(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=(0,m.Ge)().account,t=(0,v.TL)(),r=T();(0,s.useEffect)((function(){t((0,j.kC)())}),[t]),(0,Z.a)((function(){r&&(0,g.dC)((function(){t((0,j.S5)({currentLotteryId:r})),t((0,j.PU)({currentLotteryId:r}))}))}),[t,r]),(0,s.useEffect)((function(){e&&r&&!n&&t((0,j.w5)({account:e,currentLotteryId:r}))}),[t,r,e,n])}(),M();var n=(0,p.$G)().t,e=(0,h.ZP)(),t=e.isDark,r=(e.theme,F().currentRound),i=r.status,c=r.endTime,b=(0,s.useState)(0),y=b[0],w=b[1],C=parseInt(c,10),k=B(C,i),I=k.nextEventTime,L=k.postCountdownText,S=k.preCountdownText,P=vi(),D=P.numUserRoundsRequested,E=P.handleShowMoreUserRounds;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(Zi.V,{}),(0,o.jsxs)(yi,{children:[(0,o.jsx)(f.Z,{background:"linear-gradient(180deg, #000000 25%, #4769D2 100%)",index:1,hasCurvedDivider:!1,children:(0,o.jsx)(Me,{})}),(0,o.jsx)(f.Z,{containerProps:{style:{marginTop:"-30px"}},background:"linear-gradient(180deg, #2f3a4d 0%, #3b5998 100%)",index:2,hasCurvedDivider:!1,children:(0,o.jsxs)(l.Z,{alignItems:"center",justifyContent:"center",flexDirection:"column",pt:"24px",children:[i===x.p3.OPEN&&(0,o.jsx)("div",{style:{marginBottom:"25px",width:"min(90%, 640px)"},children:(0,o.jsx)("div",{style:bi,children:(0,o.jsx)(u.Z,{scale:"xl",color:"#ffffff",mb:"5px",textAlign:"center",children:n("Get your tickets now!")})})}),(0,o.jsx)("div",{style:{margin:"0 auto",width:"min(90%, 480px)"},children:(0,o.jsx)("img",{src:"/images/lottery/get_your_tickets_now.jpg",alt:"",style:{borderRadius:"25px",boxShadow:"0 0 8px rgba(0, 0, 0, 1)"}})}),(0,o.jsx)("div",{style:{marginBottom:"25px",width:"min(90%, 480px)"},children:(0,o.jsxs)("div",{style:bi,children:[(0,o.jsx)("div",{style:{margin:"12px",width:"min(80%, 360px)"},children:(0,o.jsx)("img",{src:"/images/lottery/xfortune_balls.jpg",alt:"",style:{borderRadius:"25px",boxShadow:"0 0 8px rgba(0, 0, 0, 1)"}})}),(0,o.jsx)("div",{style:bi,children:(0,o.jsx)(l.Z,{alignItems:"center",justifyContent:"center",mb:"12px",ml:"12px",mr:"12px",children:I&&(L||S)?(0,o.jsx)(Zr,{nextEventTime:I,postCountdownText:L,preCountdownText:S}):(0,o.jsx)(a.Z,{height:"41px",width:"250px"})})})]})}),(0,o.jsx)(dr,{})]})}),(0,o.jsx)(f.Z,{background:"linear-gradient(139.73deg, #0A2647 0%, #1C335E 100%)",hasCurvedDivider:!1,index:2,children:(0,o.jsx)("div",{style:bi,children:(0,o.jsxs)("div",{style:{margin:"12px auto",width:"min(90%, 320px)"},children:[(0,o.jsx)("img",{src:"/images/lottery/winner.jpg",alt:"",style:{borderRadius:"25px",boxShadow:"0 0 8px rgba(0, 0, 0, 1)"}}),(0,o.jsx)(mi,{})]})})}),(0,o.jsxs)(f.Z,{innerProps:{style:{margin:"0",width:"100%"}},background:t?"linear-gradient(180deg, #234567 0%, #3c5a7b 100%)":"linear-gradient(180deg, #aabbcc 0%, #9aaabc 100%)",hasCurvedDivider:!1,index:2,children:[(0,o.jsx)("div",{style:{margin:"12px auto",width:"min(90%, 320px)"},children:(0,o.jsx)("img",{src:"/images/lottery/finished_rounds.jpg",alt:"",style:{borderRadius:"25px",boxShadow:"0 0 8px rgba(0, 0, 0, 1)"}})}),(0,o.jsxs)(l.Z,{width:"100%",flexDirection:"column",alignItems:"center",justifyContent:"center",children:[(0,o.jsx)(u.Z,{mb:"24px",scale:"xl",children:n("Finished Rounds")}),(0,o.jsx)(d.Z,{mb:"24px",children:(0,o.jsx)(yr,{activeIndex:y,setActiveIndex:function(n){return w(n)}})}),0===y?(0,o.jsx)(ai,{}):(0,o.jsx)(qr,{handleShowMoreClick:E,numUserRoundsRequested:D})]})]}),(0,o.jsx)(f.Z,{index:2})]})]})}}}]);
//# sourceMappingURL=7233-3395280a1752cdb0.js.map